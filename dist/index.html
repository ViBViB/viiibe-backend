<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Viiibe ‚Äì Connect</title>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lato:wght@400;700&family=Playfair+Display:wght@400;700&family=Roboto:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">
  <script type="module" crossorigin>(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(n){if(n.ep)return;n.ep=!0;const e=t(n);fetch(n.href,e)}})();const F={auth:document.getElementById("view-auth"),authorization:document.getElementById("view-authorization"),search:document.getElementById("view-search"),loading:document.getElementById("view-loading"),generating:document.getElementById("view-generating"),moodboard:document.getElementById("view-moodboard"),details:document.getElementById("view-details")},X=document.getElementById("view-wrapper"),w={moodboard:document.getElementById("tab-moodboard"),colors:document.getElementById("tab-colors"),typography:document.getElementById("tab-typography"),layout:document.getElementById("tab-layout")},b={moodboard:document.getElementById("moodboardGrid"),colors:document.getElementById("section-colors"),typography:document.getElementById("section-typography"),layout:document.getElementById("section-layout")};function E(o){const a=["auth","authorization","search","loading","generating"].includes(o);X?.classList.toggle("centered",a),Object.values(F).forEach(t=>t?.classList.remove("active")),F[o]?.classList.add("active")}function I(o,a,t){t/=100;const r=a*Math.min(t,1-t)/100,n=e=>{const i=(e+o/30)%12,l=t-r*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*l).toString(16).padStart(2,"0")};return`#${n(0)}${n(8)}${n(4)}`.toUpperCase()}function V(o,a,t){o/=255,a/=255,t/=255;const r=Math.max(o,a,t),n=Math.min(o,a,t);let e=0,i,l=(r+n)/2;if(r===n)e=i=0;else{const m=r-n;switch(i=l>.5?m/(2-r-n):m/(r+n),r){case o:e=(a-t)/m+(a<t?6:0);break;case a:e=(t-o)/m+2;break;case t:e=(o-a)/m+4;break}e/=6}return[e*360,i*100,l*100]}function _(o){const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:{r:0,g:0,b:0}}async function R(o){const a=Math.min(o.length,6),t=[];for(let d=0;d<a;d++){const g=o[d];if(g.src){const v=await G(g);t.push(...v)}}if(t.length===0)return[];const r=[];t.forEach(d=>{let g=r.find(v=>Math.abs(v.h-d.h)<15);g?(g.pixels.push(d),g.weight+=d.s>30?3:1):r.push({h:d.h,pixels:[d],weight:1})}),r.sort((d,g)=>g.weight-d.weight);let n=r.find(d=>d.pixels.some(g=>g.s>20))||r[0],e=n?n.pixels.reduce((d,g)=>g.s-Math.abs(g.l-50)*.5>d.s-Math.abs(d.l-50)*.5?g:d):{h:200,s:0,l:50};const i=I(e.h,e.s,e.l);let l=r.find(d=>Math.abs(d.h-e.h)>40&&d.pixels.some(g=>g.s>30)),m,h;if(l){const d=l.pixels.reduce((g,v)=>v.s>g.s?v:g);m=I(d.h,d.s,d.l),h=`Accent-Context-${Math.round(d.h)}`}else m=I((e.h+180)%360,85,60),h="Accent-Pop";const c=I((e.h+25)%360,Math.max(10,e.s-20),Math.min(90,e.l+15));return[{role:"Primary",hex:i,primitive:`Brand-${Math.round(e.h)}`},{role:"Secondary",hex:c,primitive:"Brand-Alt"},{role:"Accent",hex:m,primitive:h},{role:"Background",hex:"#FFFFFF",primitive:"Base-White"},{role:"Foreground",hex:"#111111",primitive:"Base-Black"},{role:"Neutral",hex:I(e.h,5,50),primitive:"Neutral-500"},{role:"Border",hex:I(e.h,5,90),primitive:"Neutral-200"},{role:"Success",hex:I(140,70,45),primitive:"Green"},{role:"Warning",hex:I(35,90,55),primitive:"Amber"},{role:"Error",hex:I(0,80,55),primitive:"Red"}]}async function K(){const o=document.getElementById("paletteGrid"),a=document.getElementById("sourceImagesGrid"),t=document.querySelectorAll(".pin-image");if(!o)return;if(t.length===0){o.innerHTML='<p style="grid-column:1/-1; text-align:center; color:#999;">Add images first.</p>',a&&(a.innerHTML="");return}o.innerHTML='<p style="grid-column:1/-1; text-align:center; color:#999;">Analyzing vibes...</p>',a&&(a.innerHTML="");const r=Math.min(t.length,6);if(a)for(let e=0;e<r;e++){const i=t[e];if(i.src){const l=document.createElement("img");l.src=i.src,l.className="source-thumb",a.appendChild(l)}}const n=await R(t);J(n)}function G(o){return new Promise(a=>{if(!o.src){console.log("üé® Image has no src"),a([]);return}const t=document.createElement("canvas"),r=t.getContext("2d");if(!r)return console.log("üé® Could not get canvas context"),a([]);t.width=50,t.height=50;const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{try{r.drawImage(n,0,0,50,50);const e=r.getImageData(0,0,50,50).data,i=[];for(let l=0;l<e.length;l+=16){const[m,h,c]=V(e[l],e[l+1],e[l+2]);c>5&&c<98&&i.push({h:m,s:h,l:c})}a(i)}catch(e){console.error("üé® Canvas error:",e),a([])}},n.onerror=e=>{console.error("üé® Image load error:",e),a([])},n.src=o.src})}function J(o){const a=document.getElementById("paletteGrid");a&&(a.innerHTML="",o.forEach(t=>{const r=document.createElement("div");r.className="role-card";const n=_(t.hex),i=(n.r*299+n.g*587+n.b*114)/1e3>=128?"#000":"#fff";r.innerHTML=`<div class="role-preview" style="background-color:${t.hex}"><div class="contrast-dot" style="background-color:${i}"></div></div><div class="role-info"><span class="role-name">${t.role}</span><span class="role-hex">${t.hex}</span><span class="role-primitive">${t.primitive}</span></div>`,a.appendChild(r)}))}const Q={red:{hMin:345,hMax:15},blue:{hMin:190,hMax:260},green:{hMin:70,hMax:160},lime:{hMin:60,hMax:100},yellow:{hMin:40,hMax:70},orange:{hMin:15,hMax:40},purple:{hMin:260,hMax:300},pink:{hMin:300,hMax:345},cyan:{hMin:160,hMax:190},black:{lMax:25},white:{lMin:80},gray:{sMax:15},dark:{lMax:30},light:{lMin:70},beige:{hMin:20,hMax:50,sMax:40,lMin:50},brown:{hMin:15,hMax:45,lMax:50},colorful:{sMin:35}};async function Y(o,a){const t=Q[a.toLowerCase()];if(!t)return 0;const r=await G(o);if(r.length===0)return 0;let n=0,e=0;return r.forEach(i=>{let l=!0;const m=Math.max(.1,i.s/100*(1-Math.abs(i.l-50)/50));t.sMin!==void 0&&i.s<t.sMin&&(l=!1),t.sMax!==void 0&&i.s>t.sMax&&(l=!1),t.lMin!==void 0&&i.l<t.lMin&&(l=!1),t.lMax!==void 0&&i.l>t.lMax&&(l=!1),t.hMin!==void 0&&t.hMax!==void 0&&(i.s<10?l=!1:t.hMin>t.hMax?i.h>=t.hMin||i.h<=t.hMax||(l=!1):i.h>=t.hMin&&i.h<=t.hMax||(l=!1)),l&&(n+=m),e+=m}),e>0?n/e:0}function Z(){const o=document.getElementById("typographyContent"),t=(document.getElementById("searchInput")?.value||"").toLowerCase();if(!o||o.children.length>1&&!o.innerHTML.includes("Analyzing"))return;o.innerHTML="";const r={modern:{head:{family:"Inter",weight:"700"},body:{family:"Inter",weight:"400"}},elegant:{name:"Editorial Serif",head:{family:"Playfair Display",weight:"700"},body:{family:"Lato",weight:"400"}},tech:{name:"Tech Mono",head:{family:"Space Mono",weight:"700"},body:{family:"Roboto",weight:"400"}},corporate:{name:"Clean Corp",head:{family:"Roboto",weight:"700"},body:{family:"Roboto",weight:"400"}}},n={majorThird:{name:"Major Third",ratio:"1.250"},minorThird:{name:"Minor Third",ratio:"1.200"},perfectFourth:{name:"Perfect Fourth",ratio:"1.333"}};let e=r.modern,i=n.majorThird,l="Balanced contrast.";t.match(/fashion|wedding|luxury|art/)?(e=r.elegant,i=n.perfectFourth,l="High contrast."):t.match(/dashboard|data|crypto|future/)?(e=r.tech,i=n.minorThird,l="Tight hierarchy."):t.match(/bank|corporate|law|finance/)&&(e=r.corporate,i=n.majorThird,l="Standard ratio.");const m=[{role:"Display 3XL",size:"72px",lh:"120%",ls:"-0.02em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{role:"Display 2XL",size:"56px",lh:"120%",ls:"-0.02em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{role:"Heading XL",size:"48px",lh:"120%",ls:"-0.02em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{role:"Heading L",size:"36px",lh:"120%",ls:"-0.02em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{role:"Heading M",size:"30px",lh:"120%",ls:"-0.02em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{role:"Heading S",size:"24px",lh:"120%",ls:"-0.02em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{role:"Heading XS",size:"20px",lh:"150%",ls:"-0.015em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{role:"Heading 2XS",size:"18px",lh:"150%",ls:"-0.015em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{role:"Heading 3XS",size:"16px",lh:"150%",ls:"-0.015em",font:e.head,weight:e.head.weight,text:"The quick brown fox"},{isDivider:!0,label:"Body & Paragraphs",role:"",size:"",lh:"",ls:"",font:{family:""},weight:"",text:""},{role:"Body XL",size:"20px",lh:"150%",ls:"-0.015em",font:e.body,weight:e.body.weight,text:"Lorum ipsum dolor sit amet."},{role:"Body L",size:"18px",lh:"150%",ls:"-0.012em",font:e.body,weight:e.body.weight,text:"Lorum ipsum dolor sit amet."},{role:"Body M",size:"16px",lh:"150%",ls:"-0.01em",font:e.body,weight:e.body.weight,text:"Lorum ipsum dolor sit amet."},{role:"Body S",size:"14px",lh:"150%",ls:"-0.005em",font:e.body,weight:400,text:"Metadata info label"}];let h="";m.forEach(c=>{c.isDivider?h+=`<h4 style="font-size:10px; font-weight:600; text-transform:uppercase; color:#bbb; margin:32px 0 8px 0; letter-spacing:1px;">${c.label}</h4>`:h+=`<div class="scale-item"><div class="scale-meta"><span class="scale-role">${c.role}</span><span class="scale-specs">${c.size} / ${c.lh}</span></div><div class="scale-preview" style="font-family:'${c.font.family}'; font-weight:${c.weight}; font-size:${c.size}; line-height:${c.lh}; letter-spacing:${c.ls};">${c.text}</div></div>`}),o.innerHTML=`<div class="font-pair-card" style="margin-bottom:24px; display:grid; grid-template-columns:1fr 1fr 1.3fr; gap:16px; align-items:start; border-top:1px solid #E0E0E0; padding-top:16px;"><div class="font-preview-box"><span class="font-label">Heading</span><div class="font-name" style="font-family:'${e.head.family}'; font-size:13px; font-weight:600; color:#000;">${e.head.family}</div></div><div class="font-preview-box" style="border-left:1px solid #eee; padding-left:16px;"><span class="font-label">Body</span><div class="font-name" style="font-family:'${e.body.family}'; font-size:13px; font-weight:600; color:#000;">${e.body.family}</div></div><div class="font-preview-box" style="border-left:1px solid #eee; padding-left:16px;"><span class="font-label">Scale System</span><div style="font-size:13px; font-weight:600; color:#000;">${i.name} (${i.ratio})</div><div style="font-size:11px; color:#888; line-height:1.3; margin-top:2px;">${l}</div></div></div><div class="scale-list">${h}</div>`}function L(o){[w.moodboard,w.colors,w.typography,w.layout].forEach(a=>a?.classList.remove("active")),[b.moodboard,b.colors,b.typography,b.layout].forEach(a=>a&&(a.style.display="none")),o==="moodboard"?(w.moodboard?.classList.add("active"),b.moodboard&&(b.moodboard.style.display="block")):o==="colors"?(w.colors?.classList.add("active"),b.colors&&(b.colors.style.display="block"),K()):o==="typography"?(w.typography?.classList.add("active"),b.typography&&(b.typography.style.display="block"),Z()):o==="layout"&&(w.layout?.classList.add("active"),b.layout&&(b.style.display="block"))}let q=0;const ee=500;let D=0,T=[],C=!1;function p(o){o<=q||(T.includes(o)||(T.push(o),T.sort((a,t)=>a-t)),O())}function O(){if(T.length===0||C)return;const o=T[0];if(o!==q+1)return;C=!0;const t=Date.now()-D,r=Math.max(0,ee-t);setTimeout(()=>{const e=document.querySelectorAll(".progress-item")[o-1];if(!e){C=!1;return}e.classList.add("active"),setTimeout(()=>{const i=e.querySelector(".checkbox");i&&(i.textContent="‚úì"),e.classList.remove("active"),e.classList.add("completed"),q=o,D=Date.now(),T.shift(),C=!1,o===7?setTimeout(()=>{E("moodboard"),L("moodboard")},2e3):O()},200)},r)}function te(){q=0,D=Date.now(),T=[],C=!1,document.querySelectorAll(".progress-item").forEach(a=>{a.classList.remove("active","completed");const t=a.querySelector(".checkbox");t&&(t.textContent="‚òê")})}function N(o){const a=(o||"").trim();if(!a)return;te(),E("loading"),p(1);const t=document.getElementById("moodboardGrid");t&&(t.innerHTML="",t.style.display="block"),parent.postMessage({pluginMessage:{type:"smart-search",query:a}},"*")}async function z(o){const a=document.getElementById("moodboardGrid");if(!a)return;const t=Array.from(a.querySelectorAll(".pin-image"));let r=0;const n=async()=>{const e=t.filter(i=>i.src&&i.src.length>0);if(e.length>t.length*.5||r>10){console.log(`üé® Starting visual analysis for ${o} on ${e.length} images`);const i=await Promise.all(t.map(async h=>{const c=h.closest(".pin-container");if(!h.src)return{container:c,score:-1,url:""};const d=await Y(h,o),g=h.getAttribute("data-pinterest-url")||"";return{container:c,score:d,url:g}}));i.sort((h,c)=>c.score-h.score);let l=0;const m=[];i.forEach(h=>{h.container&&(h.score>.15?(a.appendChild(h.container),m.push(h.url),l++):h.container.remove())}),window.postMessage({type:"update-lightbox-urls",urls:m},"*"),console.log("üé® Visual sort complete. Visible:",l),p(6),p(7)}else r++,setTimeout(n,500)};setTimeout(n,1e3)}function oe(){const o=document.getElementById("styleGuideDrawer"),a=document.getElementById("drawerBackdrop");o&&a&&(a.classList.add("active"),o.classList.add("active"))}function H(){const o=document.getElementById("styleGuideDrawer"),a=document.getElementById("drawerBackdrop");o&&a&&(a.classList.remove("active"),o.classList.remove("active"))}function ne(){return{downloadMoodboard:document.getElementById("toggle-moodboard")?.checked||!1,downloadColorPalette:document.getElementById("toggle-palette")?.checked||!1,downloadTypeScale:document.getElementById("toggle-typography")?.checked||!1,createFigmaStyles:document.getElementById("toggle-styles")?.checked||!1,createFigmaVariables:document.getElementById("toggle-variables")?.checked||!1,createBasicComponents:!1}}async function ae(){const o=document.querySelectorAll(".pin-image");console.log("üé® [collectAllData] Found image elements:",o.length);const a=[];o.forEach(l=>{if(l.src&&(l.src.startsWith("blob:")||l.src.includes("image-proxy"))){const m=l.getAttribute("data-url");if(l.naturalWidth>0&&l.naturalHeight>0){const h=fetch(l.src).then(c=>c.arrayBuffer()).then(c=>({url:m,bytes:Array.from(new Uint8Array(c)),width:l.naturalWidth,height:l.naturalHeight})).catch(c=>(console.warn("Failed to fetch image:",m,c),null));a.push(h)}}});const t=await Promise.all(a),r=t.filter(l=>l!==null);console.log(`üé® [collectAllData] Collected ${r.length} images (${t.length-r.length} failed)`);let n=[];if(o.length>0)try{console.log("üé® [collectAllData] Calculating palette..."),n=await R(o),console.log("üé® [collectAllData] Calculated colors:",n.length)}catch(l){console.error("üé® [collectAllData] Error calculating palette:",l)}else console.log("üé® [collectAllData] No images found for palette extraction");const e=[];return document.querySelectorAll(".scale-item").forEach(l=>{const m=l.querySelector(".scale-role")?.textContent,h=l.querySelector(".scale-preview");if(m&&h){const c=window.getComputedStyle(h),d=c.fontSize,g=c.fontFamily,v=c.fontWeight,A=h.textContent;e.push({role:m,size:parseInt(d),font:{family:g.replace(/['"]/g,"")},weight:v,text:A})}}),{images:r,colors:n,typography:e}}document.addEventListener("DOMContentLoaded",function(){w.moodboard&&(w.moodboard.onclick=()=>L("moodboard")),w.colors&&(w.colors.onclick=()=>L("colors")),w.typography&&(w.typography.onclick=()=>L("typography")),w.layout&&(w.layout.onclick=()=>L("layout"));const o=document.getElementById("searchInput"),a=document.getElementById("createMoodboardButton");document.querySelectorAll(".chip").forEach(u=>{u.onclick=()=>{o&&(o.value=u.textContent)}}),a&&(a.onclick=()=>N(o?o.value:"")),o&&(o.onkeydown=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),N(o.value))});const t=document.getElementById("backButton");t&&(t.onclick=()=>{o&&(o.value=""),E("search")});const r=document.getElementById("searchTermsBar");r&&(r.onclick=()=>{const s=document.getElementById("searchTermsDisplay")?.getAttribute("data-original-query")||"";o&&s&&(o.value=s),E("search")});let n=[],e=-1;const i=document.getElementById("detailsImage");window.onmessage=u=>{const s=u?.data?.pluginMessage;if(s){if(s.type==="show-view"&&(console.log("üì® Received show-view message:",s.view),s.view!=="moodboard"?(console.log("‚úÖ Showing view:",s.view),E(s.view)):console.log("‚è∏Ô∏è Skipping immediate moodboard view (handled by progress)"),s.view==="moodboard"&&s.data)){n=[];const y=document.getElementById("moodboardGrid"),x=document.getElementById("searchTermsDisplay");if(x&&s.data.category){x.setAttribute("data-original-query",s.data.category);const f=s.data.category,M=["minimalist","landing page","red","modern","dashboard","mobile app","ecommerce","saas","portfolio","blog","dark","light","bold","clean","vibrant"];let S=f;M.forEach(U=>{const B=new RegExp(`\\b(${U})\\b`,"gi");S=S.replace(B,"<strong>$1</strong>")}),x.innerHTML=S}if(y)if(y.innerHTML="",s.data.pins&&s.data.pins.length>0){let f=0;const M=s.data.pins.length;s.data.pins.forEach((S,U)=>{const B=S.fullsizeUrl||S.thumbnailUrl;if(!B)return;const j=`https://viiibe-backend-nfueitpl1-alberto-contreras-projects-101c33ba.vercel.app/api/image-proxy?url=${encodeURIComponent(B)}`;n.push(B);const $=document.createElement("div");$.className="pin-container";const k=document.createElement("img");k.className="pin-image",k.setAttribute("data-url",B),k.crossOrigin="Anonymous",k.onload=()=>{f++,console.log(`Image ${f}/${M} loaded`),f>=Math.ceil(M*.8)&&(p(4),s.data.intent&&s.data.intent.colors&&s.data.intent.colors.length>0?(p(5),z(s.data.intent.colors[0])):(p(5),p(6),p(7)))},k.onerror=()=>{f++,console.warn(`Image ${f}/${M} failed to load:`,B),f>=Math.ceil(M*.8)&&(p(4),s.data.intent&&s.data.intent.colors&&s.data.intent.colors.length>0?(p(5),z(s.data.intent.colors[0])):(p(5),p(6),p(7)))},k.src=j;const P=document.createElement("div");P.className="pin-overlay",P.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>',P.onclick=()=>{e=n.indexOf(B),E("details");const W=`https://viiibe-backend-nfueitpl1-alberto-contreras-projects-101c33ba.vercel.app/api/image-proxy?url=${encodeURIComponent(B)}`;i.src=W},$.appendChild(k),$.appendChild(P),y.appendChild($)}),setTimeout(()=>{f<Math.ceil(M*.8)&&(console.warn(`Timeout: Only ${f}/${M} images loaded, continuing anyway`),p(4),s.data.intent&&s.data.intent.colors&&s.data.intent.colors.length>0?(p(5),z(s.data.intent.colors[0])):(p(5),p(6),p(7)))},1e4)}else y.innerHTML='<p style="text-align:center; width:100%;">No pins found.</p>'}if(s.type==="show-view"&&s.view==="moodboard")setTimeout(()=>{const y=document.querySelector(".fab");y&&(y.onclick=()=>{oe()})},50);else if(s.type==="image-loaded"){const y=URL.createObjectURL(new Blob([s.imageBytes]));if(s.target==="lightbox")i.src=y;else{const f=Array.from(document.querySelectorAll("img[data-pinterest-url]")).find(M=>M.dataset.pinterestUrl===s.url);f&&(f.src=y)}}else s.type==="progress-update"&&p(s.step)}},window.addEventListener("message",u=>{u.data.type==="update-lightbox-urls"&&(n=u.data.urls,console.log("üé® Lightbox URLs updated. New count:",n.length),e>=n.length&&(e=0))});function l(){const u=document.getElementById("moodboardGrid");if(!u)return;const s=u.querySelectorAll("img"),y=Array.from(s).map(x=>x.complete?Promise.resolve():new Promise(f=>{x.onload=()=>f(),x.onerror=()=>f()}));Promise.all(y).then(()=>{const x=s.length;let f=3;x<=2?f=1:x<=5?f=2:f=3,u.style.columnCount="1",setTimeout(()=>{u.style.columnCount=String(f)},50)})}const m=document.getElementById("detailsCloseBtn");m&&(m.onclick=()=>{E("moodboard"),setTimeout(()=>{l()},100)});const h=document.getElementById("detailsNextBtn");h&&(h.onclick=()=>{e=(e+1)%n.length,i.src="";const u=n[e].replace("/736x/","/originals/");parent.postMessage({pluginMessage:{type:"fetch-image",url:u,target:"lightbox"}},"*")});const c=document.getElementById("detailsPrevBtn");c&&(c.onclick=()=>{e=(e-1+n.length)%n.length,i.src="";const u=n[e].replace("/736x/","/originals/");parent.postMessage({pluginMessage:{type:"fetch-image",url:u,target:"lightbox"}},"*")});const d=document.getElementById("detailsDeleteBtn");d&&(d.onclick=()=>{if(e>-1&&n[e]){const u=n[e],s=document.querySelectorAll(".pin-container");let y=null;if(s.forEach(x=>{const f=x.querySelector("img[data-url]");f&&f.dataset.url===u&&(y=x)}),y&&y.remove(),n.splice(e,1),n.length===0)E("moodboard");else{e>=n.length&&(e=0),i.src="";const x=n[e].replace("/736x/","/originals/");parent.postMessage({pluginMessage:{type:"fetch-image",url:x,target:"lightbox"}},"*")}}});const g=document.getElementById("drawerCloseBtn"),v=document.getElementById("drawerBackdrop"),A=document.getElementById("generateStyleGuideBtn");g&&(g.onclick=()=>H()),v&&(v.onclick=()=>H()),A&&(A.onclick=async()=>{const u=ne();console.log("üé® Style guide configuration:",u),H(),E("generating"),console.log("üé® Collecting style guide data...");const s=await ae();console.log("üì¶ Data collected:",{images:s.images.length,colors:s.colors.length,typography:s.typography.length}),parent.postMessage({pluginMessage:{type:"generate-full-styleguide",images:s.images,palette:s.colors,typography:s.typography,config:u}},"*")})});</script>
  <style rel="stylesheet" crossorigin>:root{--bg: #FFFFFF;--surface: #F5F5F5;--text-main: #000;--text-sec: #8E8E8E;--border: #E0E0E0}html,body{margin:0;padding:0;width:100%;height:100%;overflow:hidden}*{box-sizing:border-box}body{font-family:Inter,sans-serif;background:var(--bg);color:var(--text-main);-webkit-font-smoothing:antialiased}#view-wrapper{width:100%;height:100vh;display:flex;flex-direction:column;position:relative}.view{position:absolute;inset:0;display:none!important;width:100%;height:100%;flex-direction:column}.view.active{display:flex!important}.view.centered{justify-content:center;align-items:center;padding:24px}.container{width:100%;max-width:720px;margin:0 auto;display:flex;flex-direction:column;align-items:center;text-align:center}.container.welcome{max-width:560px;width:100%;margin:auto}.title{display:flex;align-items:center;justify-content:center;gap:12px;font-size:22px;font-weight:600;margin-bottom:8px}.subtitle{font-size:14px;line-height:1.5;color:gray;margin-bottom:16px;max-width:480px}button{background:#000;color:#fff;border:0;border-radius:8px;font-size:14px;font-weight:600;padding:14px 24px;cursor:pointer;transition:opacity .2s;display:flex;align-items:center;justify-content:center;gap:8px}button:hover{opacity:.85}input[type=text]{width:100%;height:48px;border:1px solid #E6E6E6;border-radius:6px;padding:0 12px;font-size:14px}.row.code{display:flex;gap:8px;width:100%;max-width:440px}.row.code input{flex:1}.search-content{width:100%;max-width:450px;text-align:center}.input-row{display:flex;gap:8px;width:100%;margin-bottom:16px}.input-box{flex:1}.popular-row{display:flex;align-items:center;justify-content:center;gap:12px}.popular-label{font-size:11px;font-weight:600;color:#000000b3}.chips{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}.chip{padding:7px 17px;border-radius:20px;border:1px solid rgba(222,222,222,.6);font-size:11px;cursor:pointer;transition:background .2s}.chip:hover{background:#eee}.container.search-results{justify-content:flex-start;align-items:stretch;text-align:left;height:100%;padding:0;max-width:none}header{display:flex;justify-content:space-between;align-items:flex-end;padding:16px 24px;border-bottom:1px solid #e7e7e7;background:#fff;flex-shrink:0}.header-left{display:flex;align-items:center;gap:12px}.back-btn{width:32px;height:32px;border:1px solid #e7e7e7;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer}.header-title{font-size:18px;font-weight:600;line-height:1.2}.tabs{display:flex;gap:16px;font-size:12px}.tab{cursor:pointer;padding-bottom:4px;color:#0006;font-weight:500}.tab.active{color:#000;font-weight:600;opacity:1}.grid-scroll{flex:1;overflow-y:auto;padding:24px 32px;position:relative}#moodboardGrid{display:block;column-count:3;column-gap:16px;width:100%;padding-bottom:120px;min-height:300px}.pin-container{display:inline-block;width:100%;margin-bottom:16px;border-radius:12px;background:var(--surface);overflow:hidden;break-inside:avoid;position:relative}.pin-image{display:block;width:100%;height:auto!important;min-height:100px;object-fit:cover;object-position:top;background-color:#e0e0e0}.pin-overlay{position:absolute;inset:0;background:#0000004d;display:flex;justify-content:center;align-items:center;opacity:0;transition:opacity .2s;cursor:pointer}.pin-container:hover .pin-overlay{opacity:1}.palette-header{display:flex;justify-content:space-between;align-items:center;padding:0 8px;margin-bottom:24px}.palette-title h3{text-align:left;margin:0;font-size:18px}.palette-title p{text-align:left;margin:4px 0 0;font-size:13px;color:var(--text-sec)}.palette-layout{display:flex;gap:24px;width:100%;padding:0 16px;align-items:flex-start}.palette-source{width:25%;min-width:140px;display:flex;flex-direction:column;gap:8px;position:sticky;top:0}.source-title{font-size:11px;font-weight:600;text-transform:uppercase;color:var(--text-sec);margin-bottom:4px}.source-thumbnails{display:grid;grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:8px}.source-thumb{width:100%;aspect-ratio:1;object-fit:cover;border-radius:8px;border:1px solid var(--border);opacity:.9}.palette-result{width:75%;flex:1}.palette-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;width:100%;padding-bottom:120px}.role-card{background:#fff;border:1px solid var(--border);border-radius:10px;overflow:hidden;display:flex;flex-direction:column;cursor:pointer;transition:transform .1s}.role-card:hover{border-color:#000}.role-preview{height:70px;width:100%;display:flex;align-items:center;justify-content:center;position:relative}.contrast-dot{width:8px;height:8px;border-radius:50%;background:#fff;opacity:.4}.role-info{padding:10px;text-align:left}.role-name{font-size:11px;font-weight:600;text-transform:uppercase;color:var(--text-sec);margin-bottom:2px;display:block}.role-hex{font-size:14px;font-weight:600;color:var(--text-main);font-family:monospace}.role-primitive{font-size:10px;color:var(--text-sec);margin-top:4px;display:block;opacity:.6}.type-grid{display:flex;flex-direction:column;gap:32px;text-align:left;padding-bottom:120px;padding-left:16px;padding-right:16px}.font-pair-card{display:grid;grid-template-columns:1fr 1fr;gap:24px;border-bottom:1px solid var(--border);padding-bottom:24px;margin-bottom:24px}.font-preview-box{display:flex;flex-direction:column;gap:4px}.font-label{font-size:10px;text-transform:uppercase;letter-spacing:1px;color:var(--text-sec);font-weight:600}.font-name{font-size:20px;font-weight:400;color:var(--text-main)}.scale-list{display:flex;flex-direction:column;gap:0}.scale-item{display:grid;grid-template-columns:100px 1fr;align-items:center;gap:16px;border-bottom:1px solid #f0f0f0;padding:16px 0}.scale-meta{display:flex;flex-direction:column;gap:2px;font-family:monospace;color:var(--text-sec)}.scale-role{font-size:11px;font-weight:600;color:var(--text-main);font-family:Inter,sans-serif;margin-bottom:2px}.scale-specs{font-size:9px;opacity:.7}.scale-preview{color:var(--text-main);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.dummy-content{padding:60px 24px;text-align:center;color:#8e8e8e;background:#fafafa;border-radius:12px;border:2px dashed #E0E0E0;margin-bottom:120px}.dummy-content h3{color:#000;font-size:18px;margin-bottom:8px}.bottom-bar{position:absolute;bottom:0;left:0;right:0;height:100px;background:linear-gradient(360deg,#fff,#fff0);display:flex;align-items:center;justify-content:center;pointer-events:none}.fab{pointer-events:auto;padding:14px 24px;border-radius:8px;background:#000;color:#fff;font-size:14px;font-weight:600;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:opacity .2s ease;border:none}.modal,.lightbox,.spinner-overlay{position:fixed;inset:0;background:#000c;display:none!important;justify-content:center;align-items:center;z-index:1000}.modal.active,.lightbox.active,.spinner-overlay.active{display:flex!important}.modal-content{background:#fff;padding:20px;border-radius:8px;max-width:280px;text-align:center}.modal-buttons{display:flex;gap:10px;justify-content:center;margin-top:15px}.spinner{border:4px solid rgba(255,255,255,.2);border-left-color:#fff;border-radius:50%;width:24px;height:24px;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.container.details{position:fixed;inset:0;z-index:2000;background:#000;padding:0;overflow:hidden;display:block;width:100%;height:100vh}.container.details .panel{width:100%;height:100%;overflow-y:auto;background:transparent;display:block;padding-bottom:0}#detailsImage{display:block;width:100%;height:auto;object-fit:contain;margin:0;padding:0}#detailsCloseBtn{position:fixed;top:20px;right:20px;padding:8px 12px;background:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:9999;font-size:12px;font-weight:600}.container.details .bottom-bar{position:fixed;bottom:0;left:0;right:0;height:100px;background:linear-gradient(0deg,#000,#0000);display:flex;align-items:center;justify-content:center;gap:24px;z-index:9999;pointer-events:none}.container.details .circle-btn{pointer-events:auto;width:44px;height:44px;border-radius:50%;background:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .1s}.container.details .circle-btn:active{transform:scale(.95)}.container.details .circle-btn.delete{width:64px;height:64px}.container.details .circle-btn svg{stroke:#000;stroke-width:2;width:24px;height:24px}.toast{position:fixed;bottom:-60px;left:50%;transform:translate(-50%);background-color:#28a745;color:#fff;padding:10px 20px;border-radius:8px;z-index:3000;transition:bottom .5s ease-in-out}.toast.show{bottom:30px}.toast.error{background-color:#dc3545}.drawer-backdrop{position:fixed;inset:0;background:#00000080;z-index:4000;display:none;opacity:0;transition:opacity .3s ease}.drawer-backdrop.active{display:block;opacity:1}.drawer{position:fixed;bottom:0;left:0;right:0;background:#fff;border-radius:16px 16px 0 0;box-shadow:0 -4px 24px #00000026;z-index:4001;transform:translateY(100%);transition:transform .3s ease;max-height:80vh;overflow-y:auto}.drawer.active{transform:translateY(0)}.drawer-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--border);position:sticky;top:0;background:#fff;z-index:1}.drawer-title{font-size:18px;font-weight:600;color:var(--text-main)}.drawer-close{width:32px;height:32px;border-radius:8px;border:1px solid var(--border);display:flex;align-items:center;justify-content:center;cursor:pointer;background:transparent;transition:background .2s}.drawer-close:hover{background:var(--surface)}.drawer-content{padding:24px}.drawer-section{margin-bottom:32px}.drawer-section:last-child{margin-bottom:0}.drawer-section-title{font-size:14px;font-weight:600;color:var(--text-main);margin-bottom:16px}.drawer-option{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f5f5f5}.drawer-option:last-child{border-bottom:none}.drawer-option-label{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--text-main)}.drawer-option-label.disabled{color:var(--text-sec);opacity:.6}.chip-soon{display:inline-block;padding:4px 10px;background:#f0f0f0;color:#666;font-size:10px;font-weight:600;text-transform:uppercase;border-radius:12px;letter-spacing:.5px}.toggle-switch{position:relative;width:44px;height:24px;flex-shrink:0}.toggle-switch input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;inset:0;background-color:#ccc;border-radius:24px;transition:background-color .2s}.toggle-slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;border-radius:50%;transition:transform .2s}.toggle-switch input:checked+.toggle-slider{background-color:#000}.toggle-switch input:checked+.toggle-slider:before{transform:translate(20px)}.toggle-switch input:disabled+.toggle-slider{background-color:#e0e0e0;cursor:not-allowed;opacity:.5}.drawer-footer{padding:16px 24px;border-top:1px solid var(--border);background:#fff;position:sticky;bottom:0;display:flex;justify-content:flex-end}.drawer-footer button{width:auto}.container.loading{max-width:480px;width:100%;padding:40px 24px;align-items:flex-start;text-align:left}.loading-title{font-size:20px;font-weight:600;color:var(--text-main);margin:0 0 32px;text-align:left;padding-left:4px}.progress-list{display:flex;flex-direction:column;gap:16px;width:100%;text-align:left}.progress-item{display:flex;align-items:flex-start;gap:12px;opacity:.4;transition:opacity .3s ease}.progress-item.active{opacity:1}.progress-item.completed{opacity:.6}.progress-item .checkbox{font-family:monospace;font-size:18px;line-height:1.4;color:var(--text-sec);flex-shrink:0;transition:all .3s ease}.progress-item.completed .checkbox{color:var(--text-main)}.progress-item .text{font-size:14px;line-height:1.6;color:var(--text-main);flex:1}.container.search-agent{max-width:600px;width:100%;padding:0 24px;display:flex;flex-direction:column;align-items:center}.agent-title{font-size:22px;font-weight:600;text-align:center;margin-bottom:20px;color:#000;letter-spacing:-.02em}.agent-input-wrapper{position:relative;width:100%;max-width:480px}.agent-input{width:100%;height:130px;border-radius:24px;border:1px solid transparent;background:#f9f9f9;padding:24px 24px 80px;font-family:Inter,sans-serif;font-size:13px;line-height:1.5;color:#000;resize:none;outline:none;box-shadow:none;transition:all .2s ease}.agent-input:focus{border-color:#eaeaea;box-shadow:none}.agent-input::placeholder{color:#7d7d7d;font-size:13px}.agent-submit-btn{position:absolute;bottom:16px;right:16px;width:40px;height:40px;border-radius:50%;background:transparent;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s ease;padding:0}.agent-submit-btn:hover{transform:scale(1.05);background:transparent}.agent-submit-btn:active{transform:scale(.95)}.search-terms-bar{background:#f9f9f9;padding:16px;margin:0 0 24px;border-radius:8px;display:flex;align-items:baseline;gap:6px;cursor:pointer;transition:background .2s ease;overflow:hidden;text-align:left}.search-terms-bar:hover{background:#f0f0f0}.results-label{font-size:13px;font-weight:600;color:#000;flex-shrink:0}.search-terms-text{font-size:13px;font-style:italic;color:#7d7d7d;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.search-terms-text strong{font-weight:600;font-style:italic}.container.generating{max-width:480px;width:100%;padding:40px 24px;text-align:center}.container.generating .spinner{display:inline-block;width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid #000;border-radius:50%;animation:spin 1s linear infinite}.generating-message{font-size:13px;line-height:1.6;color:#7d7d7d;margin:0}</style>
</head>

<body>
    <div id="view-wrapper" class="view-wrapper">
        <!-- SEARCH VIEW (Default) -->
        <div id="view-search" class="view centered active">
            <div class="container search-agent">
                <h1 class="agent-title">What will spark your creativity today?</h1>
                <div class="agent-input-wrapper">
                    <textarea id="searchInput" class="agent-input"
                        placeholder="Describe: &quot;modern red landing, big imagery, strong titles&quot;"></textarea>
                    <button id="createMoodboardButton" class="agent-submit-btn">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="40" height="40" rx="20" fill="black" />
                            <path d="M26 20L14 20M26 20L21 15.5M26 20L21 24.5" stroke="white" stroke-width="1.6"
                                stroke-linecap="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 3.5 LOADING -->
        <div id="view-loading" class="view centered">
            <div class="container loading">
                <h2 class="loading-title">Creating your mood board</h2>
                <div class="progress-list">
                    <div class="progress-item" data-step="1">
                        <span class="checkbox">‚òê</span>
                        <span class="text">Getting the creative spark you're chasing</span>
                    </div>
                    <div class="progress-item" data-step="2">
                        <span class="checkbox">‚òê</span>
                        <span class="text">Roaming across Pinterest for the good stuff</span>
                    </div>
                    <div class="progress-item" data-step="3">
                        <span class="checkbox">‚òê</span>
                        <span class="text">Giving shape to your Viiibe board</span>
                    </div>
                    <div class="progress-item" data-step="4">
                        <span class="checkbox">‚òê</span>
                        <span class="text">Blending colors and pixels that click</span>
                    </div>
                    <div class="progress-item" data-step="5">
                        <span class="checkbox">‚òê</span>
                        <span class="text">Laying out text styles that read beautifully</span>
                    </div>
                    <div class="progress-item" data-step="6">
                        <span class="checkbox">‚òê</span>
                        <span class="text">Selecting the patterns that truly fit</span>
                    </div>
                    <div class="progress-item" data-step="7">
                        <span class="checkbox">‚òê</span>
                        <span class="text">Ready to go: review and polish your Viiibe board</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 3.6 GENERATING STYLE GUIDE -->
        <div id="view-generating" class="view centered">
            <div class="container generating">
                <div class="spinner" style="margin-bottom: 24px;"></div>
                <p class="generating-message">Putting it all together: color palette, type scale, and a beautiful Viiibe
                    board...</p>
            </div>
        </div>

        <!-- 4. RESULTS -->
        <div id="view-moodboard" class="view">
            <div class="container search-results">
                <header>
                    <div class="header-left">
                        <div id="backButton" class="back-btn" title="Back">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M14.1377 12.3198L10.6963 15.7612H23.0889V16.7612H10.6973L14.1377 20.2017L13.4307 20.9087L8.7832 16.2612L9.13672 15.9077L13.4307 11.6128L14.1377 12.3198Z"
                                    fill="black" />
                            </svg>
                        </div>
                        <div class="header-text">
                            <div class="header-title">Results</div>
                        </div>
                    </div>
                    <div class="tabs">
                        <div id="tab-moodboard" class="tab active">Mood board</div>
                        <div id="tab-colors" class="tab">Color palette</div>
                        <div id="tab-typography" class="tab">Type scale</div>
                        <div id="tab-layout" class="tab">Layout</div>
                    </div>
                </header>

                <div class="grid-scroll">
                    <div id="searchTermsBar" class="search-terms-bar">
                        <span class="results-label">Results for:</span>
                        <span id="searchTermsDisplay" class="search-terms-text"></span>
                    </div>
                    <div id="moodboardGrid"></div>

                    <!-- Color Palette -->
                    <div id="section-colors" class="section-container" style="display: none;">
                        <div class="palette-header">
                            <div class="palette-title">
                                <h3>System Colors</h3>
                                <p>Semantic roles generated from moodboard.</p>
                            </div>
                        </div>
                        <div class="palette-layout">
                            <div class="palette-source"><span class="source-title">Source Inspiration</span>
                                <div id="sourceImagesGrid" class="source-thumbnails"></div>
                            </div>
                            <div class="palette-result">
                                <div id="paletteGrid" class="palette-grid">
                                    <p style="grid-column:1/-1; text-align:center; color:#999; margin-top:20px;">
                                        Analyzing pixels...</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Typography -->
                    <div id="section-typography" class="section-container" style="display: none;">
                        <div class="palette-header" style="margin-bottom: 24px; padding: 0 16px;">
                            <div class="palette-title">
                                <h3 style="margin:0; font-size:18px;">Type Scale</h3>
                                <p style="line-height: 1.5; margin: 4px 0 0 0; color: #8E8E8E; font-size: 13px;">Based
                                    on your moodboard vibe, we suggest a <strong>functional pairing</strong> to start
                                    your system.<br><span style="opacity: 0.7; font-size: 12px;">(Note: We can't detect
                                        exact fonts from images yet, so we provide a solid match for the style).</span>
                                </p>
                            </div>
                        </div>
                        <div id="typographyContent" class="type-grid">
                            <p style="text-align:center; color:#999;">Analyzing style...</p>
                        </div>
                    </div>

                    <!-- Layouts -->
                    <div id="section-layout" class="dummy-content" style="display: none;">
                        <h3>Layouts</h3>
                        <p>Features coming soon...</p>
                    </div>
                </div>

                <div class="bottom-bar">
                    <div class="fab">
                        Generate style guide
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. DETAILS -->
        <div id="view-details" class="view">
            <div class="container details">
                <div class="panel">
                    <div id="detailsCloseBtn" class="chip-close">Close</div>
                    <img id="detailsImage" class="details-image" alt="Preview" />
                    <div class="bottom-bar">
                        <div id="detailsPrevBtn" class="circle-btn"><svg fill="none" viewBox="0 0 24 24">
                                <path d="M15 18L9 12L15 6" stroke="black" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg></div>
                        <div id="detailsDeleteBtn" class="circle-btn delete"><svg fill="none" viewBox="0 0 24 24">
                                <path
                                    d="M4 7H20M9 3H15M10 11V17M14 11V17M6 7L7 19C7 20.1046 7.89543 21 9 21H15C16.1046 21 17 20.1046 17 19L18 7"
                                    stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg></div>
                        <div id="detailsNextBtn" class="circle-btn"><svg fill="none" viewBox="0 0 24 24">
                                <path d="M9 6L15 12L9 18" stroke="black" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- UTILS -->
        <div id="lightbox" class="lightbox">
            <div id="spinnerOverlay" class="spinner-overlay">
                <div class="spinner"></div>
            </div>
            <span id="lightboxClose" class="lightbox-close">&times;</span>
            <button id="lightboxPrev" class="lightbox-nav prev">&lt;</button>
            <img id="lightboxImage" class="lightbox-content">
            <button id="lightboxNext" class="lightbox-nav next">&gt;</button>
            <div class="lightbox-actions"><button id="lightboxDeleteButton" class="danger">Eliminar</button></div>
        </div>
        <div id="confirmModal" class="modal">
            <div class="modal-content">
                <p><strong>¬øQuitar esta imagen del moodboard?</strong></p>
                <div class="modal-buttons"><button id="cancelDeleteButton" class="secondary">Cancelar</button><button
                        id="confirmDeleteButton" class="danger">Quitar</button></div>
            </div>
        </div>
        <div id="toast" class="toast"></div>

        <!-- DRAWER -->
        <div id="drawerBackdrop" class="drawer-backdrop"></div>
        <div id="styleGuideDrawer" class="drawer">
            <div class="drawer-header">
                <div class="drawer-title">Style guide set</div>
                <div id="drawerCloseBtn" class="drawer-close">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4L4 12M4 4L12 12" stroke="black" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
            </div>
            <div class="drawer-content">
                <!-- Basic Download Section -->
                <div class="drawer-section">
                    <div class="drawer-section-title">Basic download</div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Download mood board</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-moodboard" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Download color palette</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-palette" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Download type scale</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-typography" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Advanced Download Section -->
                <div class="drawer-section">
                    <div class="drawer-section-title">Advanced download</div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Create Figma styles</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-styles">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Create Figma variables</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-variables">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label disabled">
                            Create basic components
                            <span class="chip-soon">Soon</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-components" disabled>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="drawer-footer">
                <button id="generateStyleGuideBtn">Get style guide</button>
            </div>
        </div>
    </div>
</body>

</html>