<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Viiibe â€“ Connect</title>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lato:wght@400;700&family=Playfair+Display:wght@400;700&family=Roboto:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="view-wrapper" class="view-wrapper">
        <!-- SEARCH VIEW (Default) -->
        <div id="view-search" class="view centered active">
            <div class="container search-agent">
                <img src="moodboard-illustration.png" alt="Moodboard" class="search-illustration" />
                <h1 class="agent-title">From vibe to build-ready</h1>
                <p class="agent-subtitle">Describe the inspiration you need, and Viiibe! will generate a
                    production-ready mood board with color palette, type scale, and Figma variables.</p>
                <div class="agent-input-wrapper">
                    <textarea id="searchInput" class="agent-input"
                        placeholder="e.g., modern, premium; blue palette, sans typography."></textarea>
                    <button id="createMoodboardButton" class="agent-submit-btn">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="40" height="40" rx="20" fill="black" />
                            <path d="M26 20L14 20M26 20L21 15.5M26 20L21 24.5" stroke="white" stroke-width="1.6"
                                stroke-linecap="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 3.5 LOADING (Searching) -->
        <div id="view-loading" class="view centered">
            <div class="container loading-simple">
                <div id="lottie-logo" class="loading-logo"></div>
                <h2 class="loading-title-simple">Viiibe! is creating your mood board</h2>
                <p class="loading-subtitle">This might take a second or two...</p>
            </div>
        </div>

        <!-- 3.6 GENERATING STYLE GUIDE -->
        <div id="view-generating" class="view centered">
            <div class="container generating">
                <div class="spinner" style="margin-bottom: 24px;"></div>
                <p class="generating-message">Putting it all together: color palette, type scale, and a beautiful Viiibe
                    board...</p>
            </div>
        </div>

        <!-- 3.7 EMPTY STATE (No Results) -->
        <div id="view-empty" class="view centered">
            <div class="container empty-state">
                <div id="emptyStateContent" class="empty-state-content">
                    <!-- Content will be injected by JavaScript -->
                </div>
            </div>
        </div>

        <!-- 4. RESULTS -->
        <div id="view-moodboard" class="view">
            <div class="container search-results">
                <header>
                    <div class="header-left" style="display: flex; gap: 0; align-items: center;">
                        <div id="backButton" class="back-btn" title="Back">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M14.1377 12.3198L10.6963 15.7612H23.0889V16.7612H10.6973L14.1377 20.2017L13.4307 20.9087L8.7832 16.2612L9.13672 15.9077L13.4307 11.6128L14.1377 12.3198Z"
                                    fill="black" />
                            </svg>
                        </div>
                        <button id="reloadButton" class="reload-btn" title="Get different results"
                            style="width: 32px; height: 32px; border-radius: 8px; border: 1px solid #E7E7E7; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center; padding: 0;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M17.1851 7.6783C16.0268 5.6787 13.8619 4.33337 11.3823 4.33337C8.5709 4.33337 6.1641 6.0628 5.1703 8.5145M15.1505 8.5145H18.5V5.1696M5.6482 14.3681C6.8065 16.3677 8.9714 17.713 11.451 17.713C14.2624 17.713 16.6693 15.9835 17.6631 13.5319M7.6828 13.5319H4.33333V16.8768"
                                    stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                    <div class="tabs">
                        <div id="tab-moodboard" class="tab active">Mood board</div>
                        <div id="tab-colors" class="tab">Color palette</div>
                        <div id="tab-typography" class="tab">Type scale</div>
                        <div id="tab-layout" class="tab">Layout</div>
                    </div>
                </header>

                <div class="grid-scroll">
                    <div id="moodboardGrid"></div>

                    <!-- Color Palette -->
                    <div id="section-colors" class="section-container"
                        style="display: none; position: relative; height: 100%; overflow: hidden;">
                        <div id="paletteGrid" class="palette-grid-fullscreen">
                            <p style="grid-column:1/-1; text-align:center; color:#999; margin-top:20px;">
                                Analyzing pixels...</p>
                        </div>
                    </div>

                    <!-- Typography -->
                    <div id="section-typography" class="section-container" style="display: none;">
                        <div id="typographyContent" class="type-grid">
                            <p style="text-align:center; color:#999;">Analyzing style...</p>
                        </div>
                    </div>

                    <!-- Layouts -->
                    <div id="section-layout" class="dummy-content" style="display: none;">
                        <h3>Layouts</h3>
                        <p>Features coming soon...</p>
                    </div>
                </div>

                <div class="bottom-bar">
                    <!-- Unified toolbar with white gradient - shows different buttons per tab -->
                    <div id="toolbarContainer"
                        style="position: fixed; bottom: 0; left: 0; right: 0; height: 140px; background: linear-gradient(0deg, #FFF 0%, rgba(255, 255, 255, 0.00) 94.87%); pointer-events: none; z-index: 1000; display: flex; align-items: center; justify-content: center;">

                        <!-- White container for both buttons -->
                        <div id="buttonsWrapper"
                            style="display: flex; gap: 10px; border-radius: 1000px; background: #FFF; padding: 6px; pointer-events: auto;">
                            <!-- Curate button (Mood board only) -->
                            <button id="curateBtn"
                                style="display: block; width: 54px; height: 54px; border-radius: 50%; border: none; background: rgba(0,0,0,0.05); cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M12 5C7 5 2.73 8.11 1 12.5C2.73 16.89 7 20 12 20C17 20 21.27 16.89 23 12.5C21.27 8.11 17 5 12 5Z"
                                        stroke="black" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <circle cx="12" cy="12.5" r="3.5" stroke="black" stroke-width="2" fill="none" />
                                </svg>
                            </button>

                            <!-- Create button (Mood board & Color palette & Type scale) -->
                            <button id="createBtn"
                                style="display: block; width: 54px; height: 54px; border-radius: 50%; border: none; background: black; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M4.99963 7V11M9.99963 2V6M17.9996 16V20M2.99963 9H6.99963M7.99963 4H11.9996M15.9996 18H19.9996M13.9996 7L16.828 9.82843M19.5162 3.74609L20.0819 4.31177C20.4779 4.70781 20.6759 4.90583 20.7501 5.13418C20.8154 5.33496 20.8154 5.55127 20.7501 5.75205C20.6759 5.9804 20.4779 6.17842 20.0819 6.57446L6.52514 20.1313C6.12909 20.5274 5.93107 20.7254 5.70272 20.7996C5.50194 20.8649 5.28563 20.8649 5.08485 20.7996C4.8565 20.7254 4.65848 20.5274 4.26243 20.1313L3.69676 19.5657C3.30071 19.1696 3.10269 18.9716 3.02847 18.7433C2.96318 18.5425 2.96318 18.3262 3.02847 18.1254C3.10269 17.897 3.30071 17.699 3.69676 17.303L17.2536 3.74609C17.6496 3.35005 17.8476 3.15203 18.0759 3.07781C18.2767 3.01252 18.493 3.01252 18.6938 3.07781C18.9222 3.15203 19.1202 3.35005 19.5162 3.74609Z"
                                        stroke="white" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. DETAILS -->
        <div id="view-details" class="view">
            <div class="container details" style="background: #FFFFFF;">
                <div class="panel">
                    <img id="detailsImage" class="details-image" alt="Preview" />
                    <div class="bottom-bar"
                        style="background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%); display: flex; gap: 10px; justify-content: center; align-items: center;">
                        <!-- Navigation buttons group (white container) -->
                        <div
                            style="display: flex; gap: 10px; border-radius: 1000px; background: #FFF; padding: 6px; pointer-events: auto; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <!-- Previous button -->
                            <button id="detailsPrevBtn"
                                style="width: 54px; height: 54px; border-radius: 50%; border: none; background: transparent; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M0 27C0 12.0883 12.0883 0 27 0C41.9117 0 54 12.0883 54 27C54 41.9117 41.9117 54 27 54C12.0883 54 0 41.9117 0 27Z"
                                        fill="black" fill-opacity="0.05" />
                                    <path d="M21 27H33M21 27L26 22M21 27L26 32" stroke="black" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>

                            <!-- Delete button -->
                            <button id="detailsDeleteBtn"
                                style="width: 54px; height: 54px; border-radius: 50%; border: none; background: transparent; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M0 27C0 12.0883 12.0883 0 27 0C41.9117 0 54 12.0883 54 27C54 41.9117 41.9117 54 27 54C12.0883 54 0 41.9117 0 27Z"
                                        fill="black" fill-opacity="0.05" />
                                    <path
                                        d="M33 21L32.1991 33.0129C32.129 34.065 32.0939 34.5911 31.8667 34.99C31.6666 35.3412 31.3648 35.6235 31.0011 35.7998C30.588 36 30.0607 36 29.0062 36H24.9938C23.9393 36 23.412 36 22.9989 35.7998C22.6352 35.6235 22.3334 35.3412 22.1333 34.99C21.9061 34.5911 21.871 34.065 21.8009 33.0129L21 21M19 21H35M31 21L30.7294 20.1881C30.4671 19.4013 30.3359 19.0078 30.0927 18.717C29.8779 18.4601 29.6021 18.2613 29.2905 18.1388C28.9376 18 28.523 18 27.6936 18H26.3064C25.477 18 25.0624 18 24.7095 18.1388C24.3979 18.2613 24.1221 18.4601 23.9073 18.717C23.6641 19.0078 23.5329 19.4013 23.2706 20.1881L23 21M29 25V32M25 25V32"
                                        stroke="black" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </button>

                            <!-- Next button -->
                            <button id="detailsNextBtn"
                                style="width: 54px; height: 54px; border-radius: 50%; border: none; background: transparent; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M0 27C0 12.0883 12.0883 0 27 0C41.9117 0 54 12.0883 54 27C54 41.9117 41.9117 54 27 54C12.0883 54 0 41.9117 0 27Z"
                                        fill="black" fill-opacity="0.05" />
                                    <path d="M21 27H33M33 27L28 22M33 27L28 32" stroke="black" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>

                        <!-- Done button (separate group) -->
                        <div
                            style="display: flex; border-radius: 1000px; background: #FFF; padding: 6px; pointer-events: auto; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                            <button id="detailsCloseBtn"
                                style="width: 54px; height: 54px; border-radius: 50%; border: none; background: #000; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <rect width="54" height="54" rx="27" fill="black" />
                                    <rect x="0.5" y="0.5" width="53" height="53" rx="26.5" stroke="black"
                                        stroke-opacity="0.3" />
                                    <path d="M19 27.6111L23.9231 32.5L35 21.5" stroke="white" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 6. MINI-PRD CHAT VIEW -->
        <div id="view-mini-prd" class="view">
            <div class="chat-container">
                <!-- Header con progreso -->
                <div class="chat-header">
                    <div class="back-btn-chat" id="backFromChat">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="black" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="progress-indicator">
                        <span id="chatCurrentStep">1</span>/<span id="chatTotalSteps">6</span>
                    </div>
                </div>

                <!-- Mensajes del chat -->
                <div class="chat-messages" id="chatMessages">
                    <!-- Los mensajes se agregan dinÃ¡micamente -->
                </div>

                <!-- Input area -->
                <div class="chat-input-container">
                    <textarea id="chatInput" placeholder="Escribe tu respuesta..." rows="1"></textarea>
                    <button id="chatSendBtn" class="send-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="white" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 7. CONFIRMATION VIEW -->
        <div id="view-confirmation" class="view centered">
            <div class="container confirmation">
                <div class="confirmation-content">
                    <div class="confirmation-icon">âœ¨</div>
                    <h2 class="confirmation-title">I understand you're looking for:</h2>
                    <p class="confirmation-summary" id="confirmationSummary">
                        <!-- Se llena dinÃ¡micamente -->
                    </p>
                    <div class="confirmation-details" id="confirmationDetails">
                        <!-- Se llena dinÃ¡micamente con tags -->
                    </div>
                    <div class="confirmation-actions">
                        <button id="confirmGenerateBtn" class="btn-primary">
                            Create Moood! board
                        </button>
                        <button id="confirmBackBtn" class="btn-secondary">
                            Add more info
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- UTILS -->
        <div id="lightbox" class="lightbox">
            <div id="spinnerOverlay" class="spinner-overlay">
                <div class="spinner"></div>
            </div>
            <span id="lightboxClose" class="lightbox-close">&times;</span>
            <button id="lightboxPrev" class="lightbox-nav prev">&lt;</button>
            <img id="lightboxImage" class="lightbox-content">
            <button id="lightboxNext" class="lightbox-nav next">&gt;</button>
            <div class="lightbox-actions"><button id="lightboxDeleteButton" class="danger">Eliminar</button></div>
        </div>
        <div id="confirmModal" class="modal">
            <div class="modal-content">
                <p><strong>Â¿Quitar esta imagen del moodboard?</strong></p>
                <div class="modal-buttons"><button id="cancelDeleteButton" class="secondary">Cancelar</button><button
                        id="confirmDeleteButton" class="danger">Quitar</button></div>
            </div>
        </div>
        <div id="toast" class="toast"></div>

        <!-- UPGRADE MODAL -->
        <div id="upgradeModal" class="modal">
            <div class="modal-content" style="max-width: 400px;">
                <h3 style="margin: 0 0 12px 0; font-size: 18px;">ðŸŽ‰ You've used your 3 free Fundamental downloads!</h3>
                <p style="margin: 0 0 16px 0; color: #666; line-height: 1.5;">
                    Upgrade to <strong>Viiibe Pro</strong> for unlimited access to:
                </p>
                <ul style="margin: 0 0 20px 0; padding-left: 20px; color: #666; line-height: 1.8;">
                    <li>âœ“ Unlimited Figma styles & variables</li>
                    <li>âœ“ Component libraries (coming soon)</li>
                    <li>âœ“ Priority support</li>
                    <li>âœ“ Early access to new features</li>
                </ul>
                <div class="modal-buttons">
                    <button id="upgradeBtn" class="btn-primary" style="flex: 1;">Upgrade to Pro - $9/month</button>
                    <button id="cancelUpgradeBtn" class="secondary">Maybe later</button>
                </div>
            </div>
        </div>

        <!-- DRAWER -->
        <div id="drawerBackdrop" class="drawer-backdrop"></div>
        <div id="styleGuideDrawer" class="drawer">
            <div class="drawer-header">
                <div class="drawer-title">Get your Viiibe!</div>
                <div id="drawerCloseBtn" class="drawer-close">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4L4 12M4 4L12 12" stroke="black" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
            </div>
            <div class="drawer-content">
                <!-- SECTION 1: Inspiration -->
                <div class="drawer-section">
                    <div class="drawer-section-header">
                        <div>
                            <div class="drawer-section-title">Download Inspiration</div>
                            <div class="drawer-section-badge">FREE FOREVER</div>
                        </div>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Mood board</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-moodboard" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <!-- SECTION 2: Style Guide -->
                <div class="drawer-section">
                    <div class="drawer-section-header">
                        <div>
                            <div class="drawer-section-title">Download Style Guide</div>
                            <div class="drawer-section-badge">FREE FOREVER</div>
                        </div>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Color palette</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-palette">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Type scale</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-typography">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <!-- SECTION 3: Fundamentals -->
                <div class="drawer-section">
                    <div class="drawer-section-header">
                        <div>
                            <div class="drawer-section-title">Download Fundamentals</div>
                            <div class="drawer-section-badge badge-fundamentals" id="fundamentals-badge">3 FREE
                                DOWNLOADS</div>
                        </div>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Figma styles</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-styles">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Figma variables</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-variables">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="drawer-footer">
                <button id="generateStyleGuideBtn" class="btn-download-circle">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 15L12 3M12 15L8 11M12 15L16 11" stroke="white" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M3 17V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V17" stroke="white"
                            stroke-width="2" stroke-linecap="round" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
</body>

</html>