<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Viiibe – Connect</title>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lato:wght@400;700&family=Playfair+Display:wght@400;700&family=Roboto:wght@400;500;700&family=Space+Mono:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="view-wrapper" class="view-wrapper">
        <!-- SEARCH VIEW (Default) -->
        <div id="view-search" class="view centered active">
            <div class="container search-agent">
                <img src="moodboard-illustration.png" alt="Moodboard" class="search-illustration" />
                <h1 class="agent-title">From vibe to build-ready</h1>
                <p class="agent-subtitle">Describe the inspiration you need, and Viiibe! will generate a
                    production-ready mood board with color palette, type scale, and Figma variables.</p>
                <div class="agent-input-wrapper">
                    <textarea id="searchInput" class="agent-input"
                        placeholder="e.g., modern, premium; blue palette, sans typography."></textarea>
                    <button id="createMoodboardButton" class="agent-submit-btn">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="40" height="40" rx="20" fill="black" />
                            <path d="M26 20L14 20M26 20L21 15.5M26 20L21 24.5" stroke="white" stroke-width="1.6"
                                stroke-linecap="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 3.5 LOADING (Searching) -->
        <div id="view-loading" class="view centered">
            <div class="container loading-simple">
                <div id="lottie-logo" class="loading-logo"></div>
                <h2 class="loading-title-simple">Viiibe! is creating your mood board</h2>
                <p class="loading-subtitle">This might take a second or two...</p>
            </div>
        </div>

        <!-- 3.6 GENERATING STYLE GUIDE -->
        <div id="view-generating" class="view centered">
            <div class="container generating">
                <div class="spinner" style="margin-bottom: 24px;"></div>
                <p class="generating-message">Putting it all together: color palette, type scale, and a beautiful Viiibe
                    board...</p>
            </div>
        </div>

        <!-- 3.7 EMPTY STATE (No Results) -->
        <div id="view-empty" class="view centered">
            <div class="container empty-state">
                <div id="emptyStateContent" class="empty-state-content">
                    <!-- Content will be injected by JavaScript -->
                </div>
            </div>
        </div>

        <!-- 4. RESULTS -->
        <div id="view-moodboard" class="view">
            <div class="container search-results">
                <header>
                    <div class="header-left">
                        <div id="backButton" class="back-btn" title="Back">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M14.1377 12.3198L10.6963 15.7612H23.0889V16.7612H10.6973L14.1377 20.2017L13.4307 20.9087L8.7832 16.2612L9.13672 15.9077L13.4307 11.6128L14.1377 12.3198Z"
                                    fill="black" />
                            </svg>
                        </div>
                        <div class="header-text">
                            <div class="header-title">Results</div>
                        </div>
                    </div>
                    <div class="tabs">
                        <div id="tab-moodboard" class="tab active">Mood board</div>
                        <div id="tab-colors" class="tab">Color palette</div>
                        <div id="tab-typography" class="tab">Type scale</div>
                        <div id="tab-layout" class="tab">Layout</div>
                    </div>
                </header>

                <div class="grid-scroll">
                    <div id="searchTermsBar" class="search-terms-bar">
                        <span class="results-label">Results for:</span>
                        <span id="searchTermsDisplay" class="search-terms-text"></span>
                        <button id="reloadButton" class="reload-btn" title="Get different results">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M17.5 10C17.5 14.1421 14.1421 17.5 10 17.5C5.85786 17.5 2.5 14.1421 2.5 10C2.5 5.85786 5.85786 2.5 10 2.5C12.0711 2.5 13.9461 3.35714 15.3033 4.75"
                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                <path d="M15 2.5V5H12.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                    <div id="moodboardGrid"></div>

                    <!-- Color Palette -->
                    <div id="section-colors" class="section-container" style="display: none;">
                        <div id="paletteGrid" class="palette-grid-fullscreen">
                            <p style="grid-column:1/-1; text-align:center; color:#999; margin-top:20px;">
                                Analyzing pixels...</p>
                        </div>
                    </div>

                    <!-- Typography -->
                    <div id="section-typography" class="section-container" style="display: none;">
                        <div class="palette-header" style="margin-bottom: 24px; padding: 0 16px;">
                            <div class="palette-title">
                                <h3 style="margin:0; font-size:18px;">Type Scale</h3>
                                <p style="line-height: 1.5; margin: 4px 0 0 0; color: #8E8E8E; font-size: 13px;">Based
                                    on your moodboard vibe, we suggest a <strong>functional pairing</strong> to start
                                    your system.<br><span style="opacity: 0.7; font-size: 12px;">(Note: We can't detect
                                        exact fonts from images yet, so we provide a solid match for the style).</span>
                                </p>
                            </div>
                        </div>
                        <div id="typographyContent" class="type-grid">
                            <p style="text-align:center; color:#999;">Analyzing style...</p>
                        </div>
                    </div>

                    <!-- Layouts -->
                    <div id="section-layout" class="dummy-content" style="display: none;">
                        <h3>Layouts</h3>
                        <p>Features coming soon...</p>
                    </div>
                </div>

                <div class="bottom-bar">
                    <div class="fab">
                        Generate style guide
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. DETAILS -->
        <div id="view-details" class="view">
            <div class="container details">
                <div class="panel">
                    <div id="detailsCloseBtn" class="chip-close">Done with curation</div>
                    <img id="detailsImage" class="details-image" alt="Preview" />
                    <div class="bottom-bar">
                        <div id="detailsPrevBtn" class="circle-btn"><svg fill="none" viewBox="0 0 24 24">
                                <path d="M15 18L9 12L15 6" stroke="black" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg></div>
                        <div id="detailsDeleteBtn" class="circle-btn delete"><svg fill="none" viewBox="0 0 24 24">
                                <path
                                    d="M4 7H20M9 3H15M10 11V17M14 11V17M6 7L7 19C7 20.1046 7.89543 21 9 21H15C16.1046 21 17 20.1046 17 19L18 7"
                                    stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg></div>
                        <div id="detailsNextBtn" class="circle-btn"><svg fill="none" viewBox="0 0 24 24">
                                <path d="M9 6L15 12L9 18" stroke="black" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 6. MINI-PRD CHAT VIEW -->
        <div id="view-mini-prd" class="view">
            <div class="chat-container">
                <!-- Header con progreso -->
                <div class="chat-header">
                    <div class="back-btn-chat" id="backFromChat">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="black" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="progress-indicator">
                        <span id="chatCurrentStep">1</span>/<span id="chatTotalSteps">6</span>
                    </div>
                </div>

                <!-- Mensajes del chat -->
                <div class="chat-messages" id="chatMessages">
                    <!-- Los mensajes se agregan dinámicamente -->
                </div>

                <!-- Input area -->
                <div class="chat-input-container">
                    <textarea id="chatInput" placeholder="Escribe tu respuesta..." rows="1"></textarea>
                    <button id="chatSendBtn" class="send-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="white" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 7. CONFIRMATION VIEW -->
        <div id="view-confirmation" class="view centered">
            <div class="container confirmation">
                <div class="confirmation-content">
                    <div class="confirmation-icon">✨</div>
                    <h2 class="confirmation-title">I understand you're looking for:</h2>
                    <p class="confirmation-summary" id="confirmationSummary">
                        <!-- Se llena dinámicamente -->
                    </p>
                    <div class="confirmation-details" id="confirmationDetails">
                        <!-- Se llena dinámicamente con tags -->
                    </div>
                    <div class="confirmation-actions">
                        <button id="confirmGenerateBtn" class="btn-primary">
                            Create Moood! board
                        </button>
                        <button id="confirmBackBtn" class="btn-secondary">
                            Add more info
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- UTILS -->
        <div id="lightbox" class="lightbox">
            <div id="spinnerOverlay" class="spinner-overlay">
                <div class="spinner"></div>
            </div>
            <span id="lightboxClose" class="lightbox-close">&times;</span>
            <button id="lightboxPrev" class="lightbox-nav prev">&lt;</button>
            <img id="lightboxImage" class="lightbox-content">
            <button id="lightboxNext" class="lightbox-nav next">&gt;</button>
            <div class="lightbox-actions"><button id="lightboxDeleteButton" class="danger">Eliminar</button></div>
        </div>
        <div id="confirmModal" class="modal">
            <div class="modal-content">
                <p><strong>¿Quitar esta imagen del moodboard?</strong></p>
                <div class="modal-buttons"><button id="cancelDeleteButton" class="secondary">Cancelar</button><button
                        id="confirmDeleteButton" class="danger">Quitar</button></div>
            </div>
        </div>
        <div id="toast" class="toast"></div>

        <!-- DRAWER -->
        <div id="drawerBackdrop" class="drawer-backdrop"></div>
        <div id="styleGuideDrawer" class="drawer">
            <div class="drawer-header">
                <div class="drawer-title">Style guide set</div>
                <div id="drawerCloseBtn" class="drawer-close">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4L4 12M4 4L12 12" stroke="black" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
            </div>
            <div class="drawer-content">
                <!-- Basic Download Section -->
                <div class="drawer-section">
                    <div class="drawer-section-title">Basic download</div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Download mood board</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-moodboard" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Download color palette</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-palette" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Download type scale</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-typography" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Advanced Download Section -->
                <div class="drawer-section">
                    <div class="drawer-section-title">Advanced download</div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Create Figma styles</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-styles">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label">Create Figma variables</div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-variables">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <div class="drawer-option">
                        <div class="drawer-option-label disabled">
                            Create basic components
                            <span class="chip-soon">Soon</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="toggle-components" disabled>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="drawer-footer">
                <button id="generateStyleGuideBtn">Get style guide</button>
            </div>
        </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
</body>

</html>