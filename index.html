<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Viiibe ‚Äì Connect</title>
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lato:wght@400;700&family=Playfair+Display:wght@400;700&family=Roboto:wght@400;500;700&family=Space+Mono:wght@400;700&family=Nunito:wght@400;700&family=Merriweather:wght@400;700&family=Open+Sans:wght@400;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="view-wrapper" class="view-wrapper">
        <!-- SEARCH VIEW (Default) -->
        <div id="view-search" class="view centered active">
            <div class="container search-agent" style="position: relative;">
                <img src="moodboard-illustration.png" alt="Moodboard" class="search-illustration" />
                <h1 class="agent-title">Stop Scrolling Pinterest to get UI inspiration.</h1>
                <p class="agent-subtitle">Describe the inspiration you need, and Viiibe! will generate a
                    production-ready UI mood board with color palette, type scale, and variables. Right inside Figma.
                </p>
                <div class="agent-input-wrapper">
                    <textarea id="searchInput" class="agent-input"
                        placeholder="e.g., red, modern landing page for the fitness industry"></textarea>
                    <button id="createMoodboardButton" class="agent-submit-btn">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="40" height="40" rx="20" fill="black" />
                            <path d="M26 20L14 20M26 20L21 15.5M26 20L21 24.5" stroke="white" stroke-width="1.6"
                                stroke-linecap="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 3.5 LOADING (Searching) -->
        <div id="view-loading" class="view centered">
            <div class="container loading-simple">
                <!-- Brand Motif Background -->
                <div class="loading-masonry-bg">
                    <div class="loading-masonry-col" data-dir="up">
                        <div class="masonry-block" style="height: 180px;"></div>
                        <div class="masonry-block" style="height: 350px;"></div>
                        <div class="masonry-block" style="height: 120px;"></div>
                        <!-- Repeated for infinite scroll -->
                        <div class="masonry-block" style="height: 180px;"></div>
                        <div class="masonry-block" style="height: 350px;"></div>
                        <div class="masonry-block" style="height: 120px;"></div>
                    </div>
                    <div class="loading-masonry-col" data-dir="down">
                        <div class="masonry-block" style="height: 300px;"></div>
                        <div class="masonry-block" style="height: 250px;"></div>
                        <div class="masonry-block" style="height: 200px;"></div>
                        <!-- Repeated -->
                        <div class="masonry-block" style="height: 300px;"></div>
                        <div class="masonry-block" style="height: 250px;"></div>
                        <div class="masonry-block" style="height: 200px;"></div>
                    </div>
                    <div class="loading-masonry-col" data-dir="up">
                        <div class="masonry-block" style="height: 240px;"></div>
                        <div class="masonry-block" style="height: 240px;"></div>
                        <div class="masonry-block" style="height: 100px;"></div>
                        <!-- Repeated -->
                        <div class="masonry-block" style="height: 240px;"></div>
                        <div class="masonry-block" style="height: 240px;"></div>
                        <div class="masonry-block" style="height: 100px;"></div>
                    </div>
                </div>


                <!-- Centered Text Content -->
                <div class="loading-content">
                    <h2 class="loading-title-simple">Viiibe! is creating your mood board</h2>
                    <p class="loading-subtitle">This might take a second or two...</p>
                </div>
            </div>
        </div>


        <!-- 3.6 GENERATING STYLE GUIDE -->
        <div id="view-generating" class="view centered">
            <div class="container loading-simple">
                <!-- Brand Motif Background -->
                <div class="loading-masonry-bg">
                    <div class="loading-masonry-col" data-dir="up">
                        <div class="masonry-block" style="height: 180px;"></div>
                        <div class="masonry-block" style="height: 350px;"></div>
                        <div class="masonry-block" style="height: 120px;"></div>
                        <!-- Repeated for infinite scroll -->
                        <div class="masonry-block" style="height: 180px;"></div>
                        <div class="masonry-block" style="height: 350px;"></div>
                        <div class="masonry-block" style="height: 120px;"></div>
                    </div>
                    <div class="loading-masonry-col" data-dir="down">
                        <div class="masonry-block" style="height: 300px;"></div>
                        <div class="masonry-block" style="height: 250px;"></div>
                        <div class="masonry-block" style="height: 200px;"></div>
                        <!-- Repeated -->
                        <div class="masonry-block" style="height: 300px;"></div>
                        <div class="masonry-block" style="height: 250px;"></div>
                        <div class="masonry-block" style="height: 200px;"></div>
                    </div>
                    <div class="loading-masonry-col" data-dir="up">
                        <div class="masonry-block" style="height: 240px;"></div>
                        <div class="masonry-block" style="height: 240px;"></div>
                        <div class="masonry-block" style="height: 100px;"></div>
                        <!-- Repeated -->
                        <div class="masonry-block" style="height: 240px;"></div>
                        <div class="masonry-block" style="height: 240px;"></div>
                        <div class="masonry-block" style="height: 100px;"></div>
                    </div>
                </div>

                <!-- Centered Text Content -->
                <div class="loading-content">
                    <h2 class="loading-title-simple">Putting it all together</h2>
                    <p class="loading-subtitle">Creating your color palette, type scale, and Figma variables...</p>
                </div>
            </div>
        </div>

        <!-- 3.7 EMPTY STATE (No Results) -->
        <div id="view-empty" class="view centered">
            <div class="container empty-state">
                <div id="emptyStateContent" class="empty-state-content">
                    <!-- Content will be injected by JavaScript -->
                </div>
            </div>
        </div>

        <!-- 4. RESULTS -->
        <div id="view-moodboard" class="view">
            <div class="container search-results">
                <header>
                    <div class="header-left" style="display: flex; gap: 0; align-items: center;">
                        <div id="backButton" class="back-btn" title="Back">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M14.1377 12.3198L10.6963 15.7612H23.0889V16.7612H10.6973L14.1377 20.2017L13.4307 20.9087L8.7832 16.2612L9.13672 15.9077L13.4307 11.6128L14.1377 12.3198Z"
                                    fill="black" />
                            </svg>
                        </div>
                        <button id="reloadButton" class="reload-btn" title="Get different results"
                            style="width: 32px; height: 32px; border-radius: 8px; border: 1px solid #E7E7E7; background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center; padding: 0;">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M17.1851 7.6783C16.0268 5.6787 13.8619 4.33337 11.3823 4.33337C8.5709 4.33337 6.1641 6.0628 5.1703 8.5145M15.1505 8.5145H18.5V5.1696M5.6482 14.3681C6.8065 16.3677 8.9714 17.713 11.451 17.713C14.2624 17.713 16.6693 15.9835 17.6631 13.5319M7.6828 13.5319H4.33333V16.8768"
                                    stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                    <div class="tabs">
                        <div id="tab-moodboard" class="tab active">Mood board</div>
                        <div id="tab-colors" class="tab">Color palette</div>
                        <div id="tab-typography" class="tab">Type scale</div>
                        <div id="tab-layout" class="tab">Components</div>
                    </div>
                </header>

                <div class="grid-scroll">
                    <div id="moodboardGrid"></div>

                    <!-- Color Palette -->
                    <div id="section-colors" class="section-container"
                        style="display: none; position: relative; height: 100%; overflow: hidden;">
                        <div id="paletteGrid" class="palette-grid-fullscreen">
                            <p style="grid-column:1/-1; text-align:center; color:#999; margin-top:20px;">
                                Analyzing pixels...</p>
                        </div>
                    </div>

                    <!-- Typography -->
                    <div id="section-typography" class="section-container" style="display: none;">
                        <div id="typographyContent" class="type-grid">
                            <p style="text-align:center; color:#999;">Analyzing style...</p>
                        </div>
                    </div>

                    <!-- Layouts -->
                    <div id="section-layout" class="components-empty-state" style="display: none;">
                        <img src="magic-hat.png" alt="Coming soon" class="magic-hat-icon" />
                        <p class="coming-soon-text">Coming soon...</p>
                    </div>
                </div>

                <div class="bottom-bar">
                    <!-- Unified toolbar with white gradient - shows different buttons per tab -->
                    <div id="toolbarContainer"
                        style="position: fixed; bottom: 0; left: 0; right: 0; height: 140px; background: linear-gradient(0deg, #FFF 0%, rgba(255, 255, 255, 0.00) 94.87%); pointer-events: none; z-index: 1000; display: flex; align-items: center; justify-content: center;">

                        <div id="buttonsWrapper"
                            style="display: flex; gap: 10px; border-radius: 1000px; background: #FFF; padding: 6px; pointer-events: auto;">
                            <button id="curateBtn"
                                style="display: block; width: 54px; height: 54px; border-radius: 50%; border: none; background: rgba(0,0,0,0.05); cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M12 5C7 5 2.73 8.11 1 12.5C2.73 16.89 7 20 12 20C17 20 21.27 16.89 23 12.5C21.27 8.11 17 5 12 5Z"
                                        stroke="black" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <circle cx="12" cy="12.5" r="3.5" stroke="black" stroke-width="2" fill="none" />
                                </svg>
                            </button>

                            <button id="createBtn"
                                style="display: block; width: 54px; height: 54px; border-radius: 50%; border: none; background: black; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M4.99963 7V11M9.99963 2V6M17.9996 16V20M2.99963 9H6.99963M7.99963 4H11.9996M15.9996 18H19.9996M13.9996 7L16.828 9.82843M19.5162 3.74609L20.0819 4.31177C20.4779 4.70781 20.6759 4.90583 20.7501 5.13418C20.8154 5.33496 20.8154 5.55127 20.7501 5.75205C20.6759 5.9804 20.4779 6.17842 20.0819 6.57446L6.52514 20.1313C6.12909 20.5274 5.93107 20.7254 5.70272 20.7996C5.50194 20.8649 5.28563 20.8649 5.08485 20.7996C4.8565 20.7254 4.65848 20.5274 4.26243 20.1313L3.69676 19.5657C3.30071 19.1696 3.10269 18.9716 3.02847 18.7433C2.96318 18.5425 2.96318 18.3262 3.02847 18.1254C3.10269 17.897 3.30071 17.699 3.69676 17.303L17.2536 3.74609C17.6496 3.35005 17.8476 3.15203 18.0759 3.07781C18.2767 3.01252 18.493 3.01252 18.6938 3.07781C18.9222 3.15203 19.1202 3.35005 19.5162 3.74609Z"
                                        stroke="white" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. DETAILS -->
        <div id="view-details" class="view">
            <div class="container details">
                <div class="panel">
                    <img id="detailsImage" class="details-image" alt="Preview" />
                    <div class="bottom-bar"
                        style="display: flex; gap: 10px; justify-content: center; align-items: center;">
                        <!-- Navigation buttons group (white container) -->
                        <div
                            style="display: flex; gap: 10px; border-radius: 1000px; background: #FFF; padding: 6px; pointer-events: auto;">
                            <!-- Previous button -->
                            <button id="detailsPrevBtn"
                                style="width: 54px; height: 54px; border-radius: 50%; border: none; background: transparent; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M0 27C0 12.0883 12.0883 0 27 0C41.9117 0 54 12.0883 54 27C54 41.9117 41.9117 54 27 54C12.0883 54 0 41.9117 0 27Z"
                                        fill="black" fill-opacity="0.05" />
                                    <path d="M21 27H33M21 27L26 22M21 27L26 32" stroke="black" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>

                            <!-- Delete button -->
                            <button id="detailsDeleteBtn"
                                style="width: 54px; height: 54px; border-radius: 50%; border: none; background: transparent; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M0 27C0 12.0883 12.0883 0 27 0C41.9117 0 54 12.0883 54 27C54 41.9117 41.9117 54 27 54C12.0883 54 0 41.9117 0 27Z"
                                        fill="black" fill-opacity="0.05" />
                                    <path
                                        d="M33 21L32.1991 33.0129C32.129 34.065 32.0939 34.5911 31.8667 34.99C31.6666 35.3412 31.3648 35.6235 31.0011 35.7998C30.588 36 30.0607 36 29.0062 36H24.9938C23.9393 36 23.412 36 22.9989 35.7998C22.6352 35.6235 22.3334 35.3412 22.1333 34.99C21.9061 34.5911 21.871 34.065 21.8009 33.0129L21 21M19 21H35M31 21L30.7294 20.1881C30.4671 19.4013 30.3359 19.0078 30.0927 18.717C29.8779 18.4601 29.6021 18.2613 29.2905 18.1388C28.9376 18 28.523 18 27.6936 18H26.3064C25.477 18 25.0624 18 24.7095 18.1388C24.3979 18.2613 24.1221 18.4601 23.9073 18.717C23.6641 19.0078 23.5329 19.4013 23.2706 20.1881L23 21M29 25V32M25 25V32"
                                        stroke="black" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </button>

                            <!-- Next button -->
                            <button id="detailsNextBtn"
                                style="width: 54px; height: 54px; border-radius: 50%; border: none; background: transparent; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M0 27C0 12.0883 12.0883 0 27 0C41.9117 0 54 12.0883 54 27C54 41.9117 41.9117 54 27 54C12.0883 54 0 41.9117 0 27Z"
                                        fill="black" fill-opacity="0.05" />
                                    <path d="M21 27H33M33 27L28 22M33 27L28 32" stroke="black" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>

                        <!-- Done button (separate group) -->
                        <div
                            style="display: flex; border-radius: 1000px; background: #FFF; padding: 6px; pointer-events: auto;">
                            <button id="detailsCloseBtn"
                                style="width: 54px; height: 54px; border-radius: 50%; border: none; background: #000; cursor: pointer; padding: 0; display: flex; align-items: center; justify-content: center;">
                                <svg width="54" height="54" viewBox="0 0 54 54" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <rect width="54" height="54" rx="27" fill="black" />
                                    <rect x="0.5" y="0.5" width="53" height="53" rx="26.5" stroke="black"
                                        stroke-opacity="0.3" />
                                    <path d="M19 27.6111L23.9231 32.5L35 21.5" stroke="white" stroke-width="2"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 6. MINI-PRD CHAT VIEW -->
        <div id="view-mini-prd" class="view">
            <div class="chat-container">
                <!-- Header con progreso -->
                <div class="chat-header">
                    <div class="back-btn-chat" id="backFromChat">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke="black" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <div class="progress-indicator">
                        <span id="chatCurrentStep">1</span>/<span id="chatTotalSteps">6</span>
                    </div>
                </div>

                <!-- Mensajes del chat -->
                <div class="chat-messages" id="chatMessages">
                    <!-- Los mensajes se agregan din√°micamente -->
                </div>

                <!-- Input area -->
                <div class="chat-input-container">
                    <textarea id="chatInput" placeholder="Escribe tu respuesta..." rows="1"></textarea>
                    <button id="chatSendBtn" class="send-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                            <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="white" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- 7. CONFIRMATION VIEW -->
        <div id="view-confirmation" class="view centered">
            <div class="container confirmation">
                <div class="confirmation-content">
                    <div class="confirmation-icon">‚ú®</div>
                    <h2 class="confirmation-title">I understand you're looking for:</h2>
                    <p class="confirmation-summary" id="confirmationSummary">
                        <!-- Se llena din√°micamente -->
                    </p>
                    <div class="confirmation-details" id="confirmationDetails">
                        <!-- Se llena din√°micamente con tags -->
                    </div>
                    <div class="confirmation-actions">
                        <button id="confirmGenerateBtn" class="btn-primary">
                            Create Moood! board
                        </button>
                        <button id="confirmBackBtn" class="btn-secondary">
                            Add more info
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- UTILS -->
        <div id="lightbox" class="lightbox">
            <div id="spinnerOverlay" class="spinner-overlay">
                <div class="spinner"></div>
            </div>
            <span id="lightboxClose" class="lightbox-close">&times;</span>
            <button id="lightboxPrev" class="lightbox-nav prev">&lt;</button>
            <img id="lightboxImage" class="lightbox-content">
            <button id="lightboxNext" class="lightbox-nav next">&gt;</button>
            <div class="lightbox-actions"><button id="lightboxDeleteButton" class="danger">Eliminar</button></div>
        </div>
        <div id="confirmModal" class="modal">
            <div class="modal-content">
                <p><strong>¬øQuitar esta imagen del moodboard?</strong></p>
                <div class="modal-buttons"><button id="cancelDeleteButton" class="secondary">Cancelar</button><button
                        id="confirmDeleteButton" class="danger">Quitar</button></div>
            </div>
        </div>
        <div id="toast" class="toast"></div>

        <!-- TERMS DRAWER -->
        <div id="termsDrawerBackdrop" class="drawer-backdrop"></div>
        <div id="termsDrawer" class="drawer">
            <div class="drawer-header">
                <div class="drawer-title">Attribution & Terms of Use</div>
                <div id="termsDrawerCloseBtn" class="drawer-close">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4L4 12M4 4L12 12" stroke="black" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
            </div>
            <div class="drawer-content" style="padding: 24px;">
                <p style="margin: 0 0 20px 0; color: #333; line-height: 1.6; font-size: 14px;">
                    Viiibe! is a design inspiration and workflow tool that helps designers discover and organize visual
                    references. It also generates Design Fundamentals (color palettes, type scales, and Figma variables)
                    that can serve as a foundation for creating Design Systems.
                </p>

                <h4 style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; color: #333;">Image Sources</h4>
                <ul style="margin: 0 0 20px 0; padding-left: 20px; color: #666; line-height: 1.6; font-size: 13px;">
                    <li>All images displayed in Viiibe! are sourced from publicly available Pinterest boards</li>
                    <li>Images remain the property of their respective creators and copyright holders</li>
                    <li>Viiibe! does not claim ownership of any displayed content</li>
                </ul>

                <h4 style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; color: #333;">What We Don't Do</h4>
                <ul style="margin: 0 0 20px 0; padding-left: 20px; color: #666; line-height: 1.6; font-size: 13px;">
                    <li>We do not store images on our servers</li>
                    <li>We do not perform web scraping or automated content collection</li>
                    <li>We do not modify or redistribute original content</li>
                </ul>

                <h4 style="margin: 0 0 8px 0; font-size: 14px; font-weight: 600; color: #333;">Your Responsibility</h4>
                <ul style="margin: 0 0 20px 0; padding-left: 20px; color: #666; line-height: 1.6; font-size: 13px;">
                    <li>Respect copyright and intellectual property rights</li>
                    <li>Use images for inspiration and reference purposes</li>
                    <li>Obtain proper licenses for commercial use from original creators</li>
                </ul>

                <p style="margin: 0; color: #999; font-size: 12px; font-style: italic;">
                    By using Viiibe!, you acknowledge and agree to these terms.
                </p>
            </div>
        </div>

        <!-- UPGRADE MODAL -->
        <div id="upgradeModal" class="modal">
            <div class="modal-content" style="max-width: 400px;">
                <h3 style="margin: 0 0 12px 0; font-size: 18px;">üéâ You've used your 3 free Fundamental downloads!</h3>
                <p style="margin: 0 0 16px 0; color: #666; line-height: 1.5;">
                    Upgrade to <strong>Viiibe Pro</strong> for unlimited access to:
                </p>
                <ul style="margin: 0 0 20px 0; padding-left: 20px; color: #666; line-height: 1.8;">
                    <li>‚úì Unlimited Figma styles & variables</li>
                    <li>‚úì Component libraries (coming soon)</li>
                    <li>‚úì Priority support</li>
                    <li>‚úì Early access to new features</li>
                </ul>
                <div class="modal-buttons">
                    <button id="upgradeBtn" class="btn-primary" style="flex: 1;">Unlock Lifetime Access - $9</button>
                    <button id="cancelUpgradeBtn" class="secondary">Maybe later</button>
                </div>
            </div>
        </div>

        <!-- DRAWER -->
        <div id="drawerBackdrop" class="drawer-backdrop"></div>
        <div id="styleGuideDrawer" class="drawer">
            <div class="drawer-header">
                <div id="drawerBackBtn" class="drawer-back-btn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2.5"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M19 12H5M12 19l-7-7 7-7" />
                    </svg>
                </div>
                <div id="drawerTitle" class="drawer-title">Get your Viiibe!</div>
                <div id="drawerCloseBtn" class="drawer-close">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4L4 12M4 4L12 12" stroke="black" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
            </div>

            <div class="drawer-container">
                <!-- MAIN VIEW -->
                <div id="drawerMainView" class="drawer-main-view">
                    <div class="drawer-content">
                        <!-- SECTION 1: Inspiration -->
                        <div class="drawer-section">
                            <div class="drawer-section-header">
                                <div>
                                    <div class="drawer-section-title">Download Inspiration</div>
                                </div>
                            </div>
                            <div class="drawer-option">
                                <div class="drawer-option-label">Mood board</div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-moodboard" checked>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <!-- SECTION 2: Style Guide -->
                        <div class="drawer-section">
                            <div class="drawer-section-header">
                                <div>
                                    <div class="drawer-section-title">Download Style Guide</div>
                                </div>
                            </div>
                            <div class="drawer-option">
                                <div class="drawer-option-label">Color palette</div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-palette">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="drawer-option">
                                <div class="drawer-option-label">Type scale</div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="toggle-typography">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>

                        <!-- SECTION 3: Fundamentals -->
                        <div class="drawer-section">
                            <div class="drawer-section-header">
                                <div>
                                    <div class="drawer-section-title">Download Fundamentals</div>
                                </div>
                                <div id="fundamentals-badge" class="drawer-section-badge badge-fundamentals">3 FREE
                                    DOWNLOADS</div>
                            </div>
                            <div class="drawer-option">
                                <div class="drawer-option-label">
                                    Figma styles
                                    <span class="chip-pro">PRO</span>
                                </div>
                                <label class="toggle-switch pro-toggle" data-feature="Figma Styles">
                                    <input type="checkbox" id="toggle-styles">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="drawer-option">
                                <div class="drawer-option-label">
                                    Figma variables
                                    <span class="chip-pro">PRO</span>
                                </div>
                                <label class="toggle-switch pro-toggle" data-feature="Figma Variables">
                                    <input type="checkbox" id="toggle-variables">
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                            <div class="drawer-option" style="opacity: 0.4;">
                                <div class="drawer-option-label">
                                    Figma components
                                    <span class="chip-soon">Soon</span>
                                </div>
                                <label class="toggle-switch" style="pointer-events: none;">
                                    <input type="checkbox" id="toggle-components" disabled>
                                    <span class="toggle-slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="drawer-footer" style="display: flex; align-items: center; justify-content: center;">
                        <!-- Download Button (Centered) -->
                        <button id="generateStyleGuideBtn" class="btn-download-circle">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 15L12 3M12 15L8 11M12 15L16 11" stroke="white" stroke-width="2"
                                    stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M3 17V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V17"
                                    stroke="white" stroke-width="2" stroke-linecap="round" />
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- UPGRADE VIEW -->
                <div id="drawerUpgradeView" class="drawer-upgrade-view">
                    <div class="upgrade-hero">
                        <span class="upgrade-badge">EARLY BIRD LIMITED</span>
                        <div class="upgrade-price">$9</div>
                        <div class="upgrade-subtitle">One-time payment ‚Ä¢ Lifetime Access</div>
                    </div>

                    <ul class="upgrade-features">
                        <li>
                            <span class="icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5.8913 18.0198H7.05494M16.364 13.3653H19.2731C20.5584 13.3653 21.6004 14.4072 21.6004 15.6926V19.1835C21.6004 20.4688 20.5584 21.5107 19.2731 21.5107H7.05494M11.1277 6.74824L14.7048 3.17114C15.6136 2.26229 17.0872 2.26229 17.996 3.17114L20.4645 5.63959C21.3733 6.54845 21.3733 8.02199 20.4645 8.93085L10.5458 18.8495M4.72766 21.5107H8.21857C9.50389 21.5107 10.5458 20.4688 10.5458 19.1835V5.21983C10.5458 3.93451 9.50389 2.89256 8.21857 2.89256H4.72766C3.44235 2.89256 2.40039 3.93451 2.40039 5.21983V19.1835C2.40039 20.4688 3.44235 21.5107 4.72766 21.5107Z"
                                        stroke="black" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </span>
                            <div>
                                <div class="feature-title">Download Design Fundamentals</div>
                                <div class="feature-text">Export Figma Styles & Variables directly to your file</div>
                            </div>
                        </li>
                        <li>
                            <span class="icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M11.2004 2.3999C11.2004 1.84762 10.7527 1.3999 10.2004 1.3999C9.64811 1.3999 9.20039 1.84762 9.20039 2.3999H10.2004H11.2004ZM9.20039 21.5999C9.20039 22.1522 9.64811 22.5999 10.2004 22.5999C10.7527 22.5999 11.2004 22.1522 11.2004 21.5999H10.2004H9.20039ZM6.00039 2.3999V3.3999H18.0004V2.3999V1.3999H6.00039V2.3999ZM21.6004 5.9999H20.6004V17.9999H21.6004H22.6004V5.9999H21.6004ZM18.0004 21.5999V20.5999H6.00039V21.5999V22.5999H18.0004V21.5999ZM2.40039 17.9999H3.40039V5.9999H2.40039H1.40039V17.9999H2.40039ZM6.00039 21.5999V20.5999C4.56445 20.5999 3.40039 19.4358 3.40039 17.9999H2.40039H1.40039C1.40039 20.5404 3.45988 22.5999 6.00039 22.5999V21.5999ZM21.6004 17.9999H20.6004C20.6004 19.4358 19.4363 20.5999 18.0004 20.5999V21.5999V22.5999C20.5409 22.5999 22.6004 20.5404 22.6004 17.9999H21.6004ZM18.0004 2.3999V3.3999C19.4363 3.3999 20.6004 4.56396 20.6004 5.9999H21.6004H22.6004C22.6004 3.45939 20.5409 1.3999 18.0004 1.3999V2.3999ZM6.00039 2.3999V1.3999C3.45988 1.3999 1.40039 3.45939 1.40039 5.9999H2.40039H3.40039C3.40039 4.56396 4.56445 3.3999 6.00039 3.3999V2.3999ZM10.2004 2.3999H9.20039V21.5999H10.2004H11.2004V2.3999H10.2004ZM10.2004 11.9999V12.9999H21.0004V11.9999V10.9999H10.2004V11.9999Z"
                                        fill="black" />
                                </svg>
                            </span>
                            <div>
                                <div class="feature-title">Get a curated Component Library <span
                                        class="feature-soon">(soon)</span></div>
                                <div class="feature-text">Export Figma Styles & Variables directly to your file</div>
                            </div>
                        </li>
                        <li>
                            <span class="icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10.8914 3.17203C11.2723 2.14253 12.7284 2.14253 13.1094 3.17203L15.0055 8.29616C15.1253 8.61984 15.3805 8.87503 15.7041 8.9948L20.8283 10.8909C21.8578 11.2718 21.8578 12.728 20.8283 13.1089L15.7041 15.005C15.3805 15.1248 15.1253 15.38 15.0055 15.7036L13.1094 20.8278C12.7284 21.8573 11.2723 21.8573 10.8914 20.8278L8.99529 15.7036C8.87552 15.38 8.62032 15.1248 8.29665 15.005L3.17251 13.1089C2.14302 12.728 2.14302 11.2719 3.17251 10.8909L8.29665 8.9948C8.62032 8.87503 8.87552 8.61984 8.99529 8.29617L10.8914 3.17203Z"
                                        stroke="black" stroke-width="2" stroke-linejoin="round" />
                                </svg>
                            </span>
                            <div>
                                <div class="feature-title">Free Lifetime Updates</div>
                                <div class="feature-text">Unlock all future agents and advanced features</div>
                            </div>
                        </li>
                    </ul>

                    <button id="unlockProBtn" class="btn-upgrade-pro">Unlock Lifetime Access</button>
                    <div class="upgrade-footer">
                        <p class="upgrade-footer-text">
                            <span>Secure payment handled by</span>
                            <svg width="32" height="13" viewBox="0 0 32 13" fill="none"
                                xmlns="http://www.w3.org/2000/svg" style="display: block; margin-left: 2px;">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M3.34438 5.49684C2.65475 5.262 2.2768 5.07936 2.2768 4.79234C2.2768 4.54877 2.49412 4.40963 2.88148 4.40963C3.59004 4.40963 4.31744 4.66188 4.81818 4.88797L5.1016 3.27898C4.70481 3.105 3.89231 2.81799 2.76811 2.81799C1.97453 2.81799 1.31317 3.00931 0.840843 3.36593C0.34953 3.7399 0.0944505 4.27917 0.0944505 4.93148C0.0944505 6.11431 0.878609 6.61881 2.15401 7.04497C2.97593 7.31457 3.24993 7.50596 3.24993 7.80165C3.24993 8.08867 2.98536 8.2539 2.50354 8.2539C1.90835 8.2539 0.92587 7.9843 0.283422 7.63642L0 9.26283C0.547926 9.54985 1.56825 9.84554 2.6264 9.84554C3.46718 9.84554 4.16631 9.66289 4.6387 9.31501C5.16771 8.9323 5.44171 8.36701 5.44171 7.63642C5.44171 6.42742 4.6387 5.92299 3.34438 5.49684ZM10.0556 4.54877L10.339 2.94845H8.84277V1.00573L6.83104 1.31049L6.54053 2.94845L5.83297 3.05412L5.56811 4.54877H6.53763V7.6886C6.53763 8.50615 6.76437 9.0715 7.22727 9.41938C7.61463 9.7064 8.17198 9.84554 8.95614 9.84554C9.56075 9.84554 9.9292 9.74991 10.1843 9.68898V7.99297C10.0426 8.02781 9.72138 8.08867 9.50407 8.08867C9.04117 8.08867 8.84277 7.87125 8.84277 7.37549V4.54877H10.0556ZM14.549 2.85497C13.8877 2.85497 13.3586 3.17461 13.1508 3.74864L13.0091 2.94845H10.959V9.71508H13.3019V5.32286C13.5948 4.99234 14.0105 4.87283 14.5773 4.87283C14.7002 4.87283 14.8324 4.87283 14.993 4.89893V2.90716C14.8324 2.87239 14.6907 2.85497 14.549 2.85497ZM16.7408 2.27872C17.421 2.27872 17.969 1.76561 17.969 1.13939C17.969 0.504433 17.421 0 16.7408 0C16.0511 0 15.5032 0.504433 15.5032 1.13939C15.5032 1.76561 16.0511 2.27872 16.7408 2.27872ZM15.5599 2.94845H17.9123V9.71508H15.5599V2.94845ZM24.5786 3.55725C24.1629 3.0615 23.5866 2.81799 22.8497 2.81799C22.1695 2.81799 21.5743 3.07891 21.0169 3.62685L20.8941 2.94845H18.8345V12.22L21.1775 11.8634V9.68898C21.5365 9.79335 21.9049 9.84554 22.2356 9.84554C22.8214 9.84554 23.6716 9.7064 24.3329 9.04541C24.9659 8.41045 25.2871 7.42768 25.2871 6.13173C25.2871 4.98366 25.0509 4.11394 24.5786 3.55725ZM22.6324 7.73205C22.4434 8.06257 22.1506 8.23655 21.8105 8.23655C21.5743 8.23655 21.3664 8.19304 21.1775 8.10608V4.88797C21.5743 4.50532 21.9333 4.46181 22.0656 4.46181C22.6607 4.46181 22.9536 5.05326 22.9536 6.21001C22.9536 6.871 22.8497 7.38417 22.6324 7.73205ZM32.0043 6.27087C32.0043 5.1924 31.7492 4.34003 31.2484 3.7399C30.7383 3.1311 29.973 2.81799 29 2.81799C27.0065 2.81799 25.769 4.1748 25.769 6.34915C25.769 7.56682 26.0996 8.48005 26.7514 9.06276C27.3372 9.58461 28.1781 9.84554 29.2645 9.84554C30.2659 9.84554 31.1918 9.62812 31.7775 9.2715L31.5224 7.79297C30.9461 8.07999 30.2754 8.23655 29.5196 8.23655C29.0661 8.23655 28.7543 8.14953 28.5276 7.96688C28.2819 7.77556 28.1402 7.46245 28.093 7.01888H31.9759C31.9853 6.91451 32.0043 6.42742 32.0043 6.27087ZM28.0741 5.69683C28.1402 4.73141 28.4236 4.27917 28.9621 4.27917C29.4912 4.27917 29.7652 4.74015 29.803 5.69683H28.0741Z"
                                    fill="#A6A6A6" />
                            </svg>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- DEBUG PANEL (Hidden, opens with Cmd+Shift+D) -->
        <div id="debugPanel" class="debug-panel">
            <div class="debug-header">
                <div class="debug-title">üõ†Ô∏è Debug Panel</div>
                <div id="debugCloseBtn" class="debug-close">√ó</div>
            </div>
            <div class="debug-content">
                <div class="debug-status">
                    <div class="debug-status-label">Current Status:</div>
                    <div id="debugCurrentStatus" class="debug-status-value">Loading...</div>
                </div>
                <div class="debug-actions">
                    <button id="debugResetFree" class="debug-btn">
                        üîÑ Reset to FREE (0/3)
                    </button>
                    <button id="debugSet3Downloads" class="debug-btn">
                        üì• Set 3/3 Downloads (Trigger Upgrade)
                    </button>
                    <button id="debugActivatePro" class="debug-btn">
                        ‚≠ê Activate PRO
                    </button>
                    <button id="debugRefreshStatus" class="debug-btn secondary">
                        üîç Refresh Status
                    </button>
                </div>
                <div class="debug-info">
                    Press <kbd>Esc</kbd> three times quickly to toggle this panel
                </div>
            </div>
        </div>
        <!-- Terms of Use Link - Fixed at bottom of plugin window -->
        <div id="termsContainer"
            style="position: absolute; bottom: 16px; left: 0; right: 0; text-align: center; z-index: 10000;">
            <span style="font-size: 12px; color: #999;">
                Read the <a id="termsLinkSearch" href="#"
                    style="color: #999; text-decoration: underline; cursor: pointer;">Attribution & Terms</a> before
                using Viiibe!
            </span>
        </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
</body>

</html>